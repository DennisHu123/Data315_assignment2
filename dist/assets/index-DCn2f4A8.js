var Eu=Object.defineProperty;var ku=(t,n,e)=>n in t?Eu(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var kr=(t,n,e)=>ku(t,typeof n!="symbol"?n+"":n,e);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();function en(){}function Bo(t){return t()}function ca(){return Object.create(null)}function gr(t){t.forEach(Bo)}function qo(t){return typeof t=="function"}function Di(t,n){return t!=t?n==n:t!==n||t&&typeof t=="object"||typeof t=="function"}function Cu(t){return Object.keys(t).length===0}function T(t,n){t.appendChild(n)}function ln(t,n,e){t.insertBefore(n,e||null)}function Wt(t){t.parentNode&&t.parentNode.removeChild(t)}function qe(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function V(t){return document.createElement(t)}function wt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ot(t){return document.createTextNode(t)}function j(){return Ot(" ")}function Vo(){return Ot("")}function Tu(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function P(t,n,e){e==null?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function Ru(t){return Array.from(t.childNodes)}function Jt(t,n){n=""+n,t.data!==n&&(t.data=n)}function ha(t,n,e,r){e==null?t.style.removeProperty(n):t.style.setProperty(n,e,"")}let jn;function Qn(t){jn=t}function Pu(){if(!jn)throw new Error("Function called outside component initialization");return jn}function Du(t){Pu().$$.on_mount.push(t)}const _n=[],Ct=[];let Mn=[];const Jr=[],Lu=Promise.resolve();let Qr=!1;function Iu(){Qr||(Qr=!0,Lu.then(Xo))}function jr(t){Mn.push(t)}function be(t){Jr.push(t)}const Cr=new Set;let gn=0;function Xo(){if(gn!==0)return;const t=jn;do{try{for(;gn<_n.length;){const n=_n[gn];gn++,Qn(n),zu(n.$$)}}catch(n){throw _n.length=0,gn=0,n}for(Qn(null),_n.length=0,gn=0;Ct.length;)Ct.pop()();for(let n=0;n<Mn.length;n+=1){const e=Mn[n];Cr.has(e)||(Cr.add(e),e())}Mn.length=0}while(_n.length);for(;Jr.length;)Jr.pop()();Qr=!1,Cr.clear(),Qn(t)}function zu(t){if(t.fragment!==null){t.update(),gr(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(jr)}}function Fu(t){const n=[],e=[];Mn.forEach(r=>t.indexOf(r)===-1?n.push(r):e.push(r)),e.forEach(r=>r()),Mn=n}const Pe=new Set;let Ou;function yn(t,n){t&&t.i&&(Pe.delete(t),t.i(n))}function Fn(t,n,e,r){if(t&&t.o){if(Pe.has(t))return;Pe.add(t),Ou.c.push(()=>{Pe.delete(t)}),t.o(n)}}function Ut(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function we(t,n,e){const r=t.$$.props[n];r!==void 0&&(t.$$.bound[r]=e,e(t.$$.ctx[r]))}function On(t){t&&t.c()}function bn(t,n,e){const{fragment:r,after_update:i}=t.$$;r&&r.m(n,e),jr(()=>{const a=t.$$.on_mount.map(Bo).filter(qo);t.$$.on_destroy?t.$$.on_destroy.push(...a):gr(a),t.$$.on_mount=[]}),i.forEach(jr)}function wn(t,n){const e=t.$$;e.fragment!==null&&(Fu(e.after_update),gr(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function Hu(t,n){t.$$.dirty[0]===-1&&(_n.push(t),Iu(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function Li(t,n,e,r,i,a,o=null,f=[-1]){const l=jn;Qn(t);const u=t.$$={fragment:null,ctx:[],props:a,update:en,not_equal:i,bound:ca(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(l?l.$$.context:[])),callbacks:ca(),dirty:f,skip_bound:!1,root:n.target||l.$$.root};o&&o(u.root);let s=!1;if(u.ctx=e?e(t,n.props||{},(c,h,...d)=>{const p=d.length?d[0]:h;return u.ctx&&i(u.ctx[c],u.ctx[c]=p)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](p),s&&Hu(t,c)),h}):[],u.update(),s=!0,gr(u.before_update),u.fragment=r?r(u.ctx):!1,n.target){if(n.hydrate){const c=Ru(n.target);u.fragment&&u.fragment.l(c),c.forEach(Wt)}else u.fragment&&u.fragment.c();n.intro&&yn(t.$$.fragment),bn(t,n.target,n.anchor),Xo()}Qn(l)}class Ii{constructor(){kr(this,"$$");kr(this,"$$set")}$destroy(){wn(this,1),this.$destroy=en}$on(n,e){if(!qo(e))return en;const r=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return r.push(e),()=>{const i=r.indexOf(e);i!==-1&&r.splice(i,1)}}$set(n){this.$$set&&!Cu(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}const Bu="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Bu);function De(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function qu(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Yo(t){let n,e,r;t.length!==2?(n=De,e=(f,l)=>De(t(f),l),r=(f,l)=>t(f)-l):(n=t===De||t===qu?t:Vu,e=t,r=t);function i(f,l,u=0,s=f.length){if(u<s){if(n(l,l)!==0)return s;do{const c=u+s>>>1;e(f[c],l)<0?u=c+1:s=c}while(u<s)}return u}function a(f,l,u=0,s=f.length){if(u<s){if(n(l,l)!==0)return s;do{const c=u+s>>>1;e(f[c],l)<=0?u=c+1:s=c}while(u<s)}return u}function o(f,l,u=0,s=f.length){const c=i(f,l,u,s-1);return c>u&&r(f[c-1],l)>-r(f[c],l)?c-1:c}return{left:i,center:o,right:a}}function Vu(){return 0}function Xu(t){return t===null?NaN:+t}const Yu=Yo(De),Uo=Yu.right;Yo(Xu).center;function Uu(t,n){let e=0;for(let r of t)r!=null&&(r=+r)>=r&&++e;return e}function Le(t,n){let e,r;if(n===void 0)for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=n(a,++i,t))!=null&&(e===void 0?a>=a&&(e=r=a):(e>a&&(e=a),r<a&&(r=a)))}return[e,r]}class rn{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=e[i],o=n+a,f=Math.abs(n)<Math.abs(a)?n-(o-a):a-(o-n);f&&(e[r++]=f),n=o}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,a,o=0;if(e>0){for(o=n[--e];e>0&&(r=o,i=n[--e],o=r+i,a=i-(o-r),!a););e>0&&(a<0&&n[e-1]<0||a>0&&n[e-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}function Gu(t){return t}var Wu=Array.prototype,Ku=Wu.slice;function Tr(t){return()=>t}const Zu=Math.sqrt(50),Ju=Math.sqrt(10),Qu=Math.sqrt(2);function Ve(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Zu?10:a>=Ju?5:a>=Qu?2:1;let f,l,u;return i<0?(u=Math.pow(10,-i)/o,f=Math.round(t*u),l=Math.round(n*u),f/u<t&&++f,l/u>n&&--l,u=-u):(u=Math.pow(10,i)*o,f=Math.round(t/u),l=Math.round(n/u),f*u<t&&++f,l*u>n&&--l),l<f&&.5<=e&&e<2?Ve(t,n,e*2):[f,l,u]}function Go(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,a,o]=r?Ve(n,t,e):Ve(t,n,e);if(!(a>=i))return[];const f=a-i+1,l=new Array(f);if(r)if(o<0)for(let u=0;u<f;++u)l[u]=(a-u)/-o;else for(let u=0;u<f;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<f;++u)l[u]=(i+u)/-o;else for(let u=0;u<f;++u)l[u]=(i+u)*o;return l}function En(t,n,e){return n=+n,t=+t,e=+e,Ve(t,n,e)[2]}function ju(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?En(n,t,e):En(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function tl(t,n,e){let r;for(;;){const i=En(t,n,e);if(i===r||i===0||!isFinite(i))return[t,n];i>0?(t=Math.floor(t/i)*i,n=Math.ceil(n/i)*i):i<0&&(t=Math.ceil(t*i)/i,n=Math.floor(n*i)/i),r=i}}function nl(t){return Math.max(1,Math.ceil(Math.log(Uu(t))/Math.LN2)+1)}function el(){var t=Gu,n=Le,e=nl;function r(i){Array.isArray(i)||(i=Array.from(i));var a,o=i.length,f,l,u=new Array(o);for(a=0;a<o;++a)u[a]=t(i[a],a,i);var s=n(u),c=s[0],h=s[1],d=e(u,c,h);if(!Array.isArray(d)){const y=h,$=+d;if(n===Le&&([c,h]=tl(c,h,$)),d=Go(c,h,$),d[0]<=c&&(l=En(c,h,$)),d[d.length-1]>=h)if(y>=h&&n===Le){const v=En(c,h,$);isFinite(v)&&(v>0?h=(Math.floor(h/v)+1)*v:v<0&&(h=(Math.ceil(h*-v)+1)/-v))}else d.pop()}for(var p=d.length,b=0,g=p;d[b]<=c;)++b;for(;d[g-1]>h;)--g;(b||g<p)&&(d=d.slice(b,g),p=g-b);var w=new Array(p+1),_;for(a=0;a<=p;++a)_=w[a]=[],_.x0=a>0?d[a-1]:c,_.x1=a<p?d[a]:h;if(isFinite(l)){if(l>0)for(a=0;a<o;++a)(f=u[a])!=null&&c<=f&&f<=h&&w[Math.min(p,Math.floor((f-c)/l))].push(i[a]);else if(l<0){for(a=0;a<o;++a)if((f=u[a])!=null&&c<=f&&f<=h){const y=Math.floor((c-f)*l);w[Math.min(p,y+(d[y]<=f))].push(i[a])}}}else for(a=0;a<o;++a)(f=u[a])!=null&&c<=f&&f<=h&&w[Uo(d,f,0,p)].push(i[a]);return w}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:Tr(i),r):t},r.domain=function(i){return arguments.length?(n=typeof i=="function"?i:Tr([i[0],i[1]]),r):n},r.thresholds=function(i){return arguments.length?(e=typeof i=="function"?i:Tr(Array.isArray(i)?Ku.call(i):i),r):e},r}function Wo(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function rl(t,n){let e;for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);return e}function il(t,n){let e=0,r=0;for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);if(e)return r/e}function*al(t){for(const n of t)yield*n}function Ko(t){return Array.from(al(t))}function ol(t){return t}var Rr=1,Pr=2,ti=3,Vn=4,da=1e-6;function fl(t){return"translate("+t+",0)"}function ul(t){return"translate(0,"+t+")"}function ll(t){return n=>+t(n)}function sl(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function cl(){return!this.__axis}function Zo(t,n){var e=[],r=null,i=null,a=6,o=6,f=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Rr||t===Vn?-1:1,s=t===Vn||t===Pr?"x":"y",c=t===Rr||t===ti?fl:ul;function h(d){var p=r??(n.ticks?n.ticks.apply(n,e):n.domain()),b=i??(n.tickFormat?n.tickFormat.apply(n,e):ol),g=Math.max(a,0)+f,w=n.range(),_=+w[0]+l,y=+w[w.length-1]+l,$=(n.bandwidth?sl:ll)(n.copy(),l),v=d.selection?d.selection():d,A=v.selectAll(".domain").data([null]),x=v.selectAll(".tick").data(p,n).order(),m=x.exit(),S=x.enter().append("g").attr("class","tick"),C=x.select("line"),M=x.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(S),C=C.merge(S.append("line").attr("stroke","currentColor").attr(s+"2",u*a)),M=M.merge(S.append("text").attr("fill","currentColor").attr(s,u*g).attr("dy",t===Rr?"0em":t===ti?"0.71em":"0.32em")),d!==v&&(A=A.transition(d),x=x.transition(d),C=C.transition(d),M=M.transition(d),m=m.transition(d).attr("opacity",da).attr("transform",function(D){return isFinite(D=$(D))?c(D+l):this.getAttribute("transform")}),S.attr("opacity",da).attr("transform",function(D){var E=this.parentNode.__axis;return c((E&&isFinite(E=E(D))?E:$(D))+l)})),m.remove(),A.attr("d",t===Vn||t===Pr?o?"M"+u*o+","+_+"H"+l+"V"+y+"H"+u*o:"M"+l+","+_+"V"+y:o?"M"+_+","+u*o+"V"+l+"H"+y+"V"+u*o:"M"+_+","+l+"H"+y),x.attr("opacity",1).attr("transform",function(D){return c($(D)+l)}),C.attr(s+"2",u*a),M.attr(s,u*g).text(b),v.filter(cl).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Pr?"start":t===Vn?"end":"middle"),v.each(function(){this.__axis=$})}return h.scale=function(d){return arguments.length?(n=d,h):n},h.ticks=function(){return e=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),h):e.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(a=o=+d,h):a},h.tickSizeInner=function(d){return arguments.length?(a=+d,h):a},h.tickSizeOuter=function(d){return arguments.length?(o=+d,h):o},h.tickPadding=function(d){return arguments.length?(f=+d,h):f},h.offset=function(d){return arguments.length?(l=+d,h):l},h}function hl(t){return Zo(ti,t)}function dl(t){return Zo(Vn,t)}var pl={value:()=>{}};function zi(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Ie(e)}function Ie(t){this._=t}function gl(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Ie.prototype=zi.prototype={constructor:Ie,on:function(t,n){var e=this._,r=gl(t+"",e),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=ml(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<o;)if(i=(t=r[a]).type)e[i]=pa(e[i],t.name,n);else if(n==null)for(i in e)e[i]=pa(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Ie(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};function ml(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function pa(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=pl,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var ni="http://www.w3.org/1999/xhtml";const ga={svg:"http://www.w3.org/2000/svg",xhtml:ni,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mr(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),ga.hasOwnProperty(n)?{space:ga[n],local:t}:t}function vl(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===ni&&n.documentElement.namespaceURI===ni?n.createElement(t):n.createElementNS(e,t)}}function _l(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Jo(t){var n=mr(t);return(n.local?_l:vl)(n)}function yl(){}function Fi(t){return t==null?yl:function(){return this.querySelector(t)}}function bl(t){typeof t!="function"&&(t=Fi(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,f=r[i]=new Array(o),l,u,s=0;s<o;++s)(l=a[s])&&(u=t.call(l,l.__data__,s,a))&&("__data__"in l&&(u.__data__=l.__data__),f[s]=u);return new ht(r,this._parents)}function wl(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function xl(){return[]}function Qo(t){return t==null?xl:function(){return this.querySelectorAll(t)}}function $l(t){return function(){return wl(t.apply(this,arguments))}}function Ml(t){typeof t=="function"?t=$l(t):t=Qo(t);for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o=n[a],f=o.length,l,u=0;u<f;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new ht(r,i)}function jo(t){return function(){return this.matches(t)}}function tf(t){return function(n){return n.matches(t)}}var Nl=Array.prototype.find;function Sl(t){return function(){return Nl.call(this.children,t)}}function Al(){return this.firstElementChild}function El(t){return this.select(t==null?Al:Sl(typeof t=="function"?t:tf(t)))}var kl=Array.prototype.filter;function Cl(){return Array.from(this.children)}function Tl(t){return function(){return kl.call(this.children,t)}}function Rl(t){return this.selectAll(t==null?Cl:Tl(typeof t=="function"?t:tf(t)))}function Pl(t){typeof t!="function"&&(t=jo(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,f=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&f.push(l);return new ht(r,this._parents)}function nf(t){return new Array(t.length)}function Dl(){return new ht(this._enter||this._groups.map(nf),this._parents)}function Xe(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Xe.prototype={constructor:Xe,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ll(t){return function(){return t}}function Il(t,n,e,r,i,a){for(var o=0,f,l=n.length,u=a.length;o<u;++o)(f=n[o])?(f.__data__=a[o],r[o]=f):e[o]=new Xe(t,a[o]);for(;o<l;++o)(f=n[o])&&(i[o]=f)}function zl(t,n,e,r,i,a,o){var f,l,u=new Map,s=n.length,c=a.length,h=new Array(s),d;for(f=0;f<s;++f)(l=n[f])&&(h[f]=d=o.call(l,l.__data__,f,n)+"",u.has(d)?i[f]=l:u.set(d,l));for(f=0;f<c;++f)d=o.call(t,a[f],f,a)+"",(l=u.get(d))?(r[f]=l,l.__data__=a[f],u.delete(d)):e[f]=new Xe(t,a[f]);for(f=0;f<s;++f)(l=n[f])&&u.get(h[f])===l&&(i[f]=l)}function Fl(t){return t.__data__}function Ol(t,n){if(!arguments.length)return Array.from(this,Fl);var e=n?zl:Il,r=this._parents,i=this._groups;typeof t!="function"&&(t=Ll(t));for(var a=i.length,o=new Array(a),f=new Array(a),l=new Array(a),u=0;u<a;++u){var s=r[u],c=i[u],h=c.length,d=Hl(t.call(s,s&&s.__data__,u,r)),p=d.length,b=f[u]=new Array(p),g=o[u]=new Array(p),w=l[u]=new Array(h);e(s,c,b,g,w,d,n);for(var _=0,y=0,$,v;_<p;++_)if($=b[_]){for(_>=y&&(y=_+1);!(v=g[y])&&++y<p;);$._next=v||null}}return o=new ht(o,r),o._enter=f,o._exit=l,o}function Hl(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Bl(){return new ht(this._exit||this._groups.map(nf),this._parents)}function ql(t,n,e){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?a.remove():e(a),r&&i?r.merge(i).order():i}function Vl(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,a=r.length,o=Math.min(i,a),f=new Array(i),l=0;l<o;++l)for(var u=e[l],s=r[l],c=u.length,h=f[l]=new Array(c),d,p=0;p<c;++p)(d=u[p]||s[p])&&(h[p]=d);for(;l<i;++l)f[l]=e[l];return new ht(f,this._parents)}function Xl(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Yl(t){t||(t=Ul);function n(c,h){return c&&h?t(c.__data__,h.__data__):!c-!h}for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o=e[a],f=o.length,l=i[a]=new Array(f),u,s=0;s<f;++s)(u=o[s])&&(l[s]=u);l.sort(n)}return new ht(i,this._parents).order()}function Ul(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Gl(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Wl(){return Array.from(this)}function Kl(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Zl(){let t=0;for(const n of this)++t;return t}function Jl(){return!this.node()}function Ql(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],a=0,o=i.length,f;a<o;++a)(f=i[a])&&t.call(f,f.__data__,a,i);return this}function jl(t){return function(){this.removeAttribute(t)}}function ts(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ns(t,n){return function(){this.setAttribute(t,n)}}function es(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function rs(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function is(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function as(t,n){var e=mr(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?ts:jl:typeof n=="function"?e.local?is:rs:e.local?es:ns)(e,n))}function ef(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function os(t){return function(){this.style.removeProperty(t)}}function fs(t,n,e){return function(){this.style.setProperty(t,n,e)}}function us(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function ls(t,n,e){return arguments.length>1?this.each((n==null?os:typeof n=="function"?us:fs)(t,n,e??"")):kn(this.node(),t)}function kn(t,n){return t.style.getPropertyValue(n)||ef(t).getComputedStyle(t,null).getPropertyValue(n)}function ss(t){return function(){delete this[t]}}function cs(t,n){return function(){this[t]=n}}function hs(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function ds(t,n){return arguments.length>1?this.each((n==null?ss:typeof n=="function"?hs:cs)(t,n)):this.node()[t]}function rf(t){return t.trim().split(/^|\s+/)}function Oi(t){return t.classList||new af(t)}function af(t){this._node=t,this._names=rf(t.getAttribute("class")||"")}af.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function of(t,n){for(var e=Oi(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function ff(t,n){for(var e=Oi(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function ps(t){return function(){of(this,t)}}function gs(t){return function(){ff(this,t)}}function ms(t,n){return function(){(n.apply(this,arguments)?of:ff)(this,t)}}function vs(t,n){var e=rf(t+"");if(arguments.length<2){for(var r=Oi(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?ms:n?ps:gs)(e,n))}function _s(){this.textContent=""}function ys(t){return function(){this.textContent=t}}function bs(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function ws(t){return arguments.length?this.each(t==null?_s:(typeof t=="function"?bs:ys)(t)):this.node().textContent}function xs(){this.innerHTML=""}function $s(t){return function(){this.innerHTML=t}}function Ms(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Ns(t){return arguments.length?this.each(t==null?xs:(typeof t=="function"?Ms:$s)(t)):this.node().innerHTML}function Ss(){this.nextSibling&&this.parentNode.appendChild(this)}function As(){return this.each(Ss)}function Es(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ks(){return this.each(Es)}function Cs(t){var n=typeof t=="function"?t:Jo(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Ts(){return null}function Rs(t,n){var e=typeof t=="function"?t:Jo(t),r=n==null?Ts:typeof n=="function"?n:Fi(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function Ps(){var t=this.parentNode;t&&t.removeChild(this)}function Ds(){return this.each(Ps)}function Ls(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Is(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function zs(t){return this.select(t?Is:Ls)}function Fs(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Os(t){return function(n){t.call(this,n,this.__data__)}}function Hs(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function Bs(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,a;e<i;++e)a=n[e],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):n[++r]=a;++r?n.length=r:delete this.__on}}}function qs(t,n,e){return function(){var r=this.__on,i,a=Os(n);if(r){for(var o=0,f=r.length;o<f;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=e),i.value=n;return}}this.addEventListener(t.type,a,e),i={type:t.type,name:t.name,value:n,listener:a,options:e},r?r.push(i):this.__on=[i]}}function Vs(t,n,e){var r=Hs(t+""),i,a=r.length,o;if(arguments.length<2){var f=this.node().__on;if(f){for(var l=0,u=f.length,s;l<u;++l)for(i=0,s=f[l];i<a;++i)if((o=r[i]).type===s.type&&o.name===s.name)return s.value}return}for(f=n?qs:Bs,i=0;i<a;++i)this.each(f(r[i],n,e));return this}function uf(t,n,e){var r=ef(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Xs(t,n){return function(){return uf(this,t,n)}}function Ys(t,n){return function(){return uf(this,t,n.apply(this,arguments))}}function Us(t,n){return this.each((typeof n=="function"?Ys:Xs)(t,n))}function*Gs(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var lf=[null];function ht(t,n){this._groups=t,this._parents=n}function se(){return new ht([[document.documentElement]],lf)}function Ws(){return this}ht.prototype=se.prototype={constructor:ht,select:bl,selectAll:Ml,selectChild:El,selectChildren:Rl,filter:Pl,data:Ol,enter:Dl,exit:Bl,join:ql,merge:Vl,selection:Ws,order:Xl,sort:Yl,call:Gl,nodes:Wl,node:Kl,size:Zl,empty:Jl,each:Ql,attr:as,style:ls,property:ds,classed:vs,text:ws,html:Ns,raise:As,lower:ks,append:Cs,insert:Rs,remove:Ds,clone:zs,datum:Fs,on:Vs,dispatch:Us,[Symbol.iterator]:Gs};function xt(t){return typeof t=="string"?new ht([[document.querySelector(t)]],[document.documentElement]):new ht([[t]],lf)}function Ks(t){let n;for(;n=t.sourceEvent;)t=n;return t}function ma(t,n){if(t=Ks(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}const ei={capture:!0,passive:!1};function ri(t){t.preventDefault(),t.stopImmediatePropagation()}function Zs(t){var n=t.document.documentElement,e=xt(t).on("dragstart.drag",ri,ei);"onselectstart"in n?e.on("selectstart.drag",ri,ei):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Js(t,n){var e=t.document.documentElement,r=xt(t).on("dragstart.drag",null);n&&(r.on("click.drag",ri,ei),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function Hi(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function sf(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function ce(){}var te=.7,Ye=1/te,Nn="\\s*([+-]?\\d+)\\s*",ne="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qs=/^#([0-9a-f]{3,8})$/,js=new RegExp(`^rgb\\(${Nn},${Nn},${Nn}\\)$`),tc=new RegExp(`^rgb\\(${Tt},${Tt},${Tt}\\)$`),nc=new RegExp(`^rgba\\(${Nn},${Nn},${Nn},${ne}\\)$`),ec=new RegExp(`^rgba\\(${Tt},${Tt},${Tt},${ne}\\)$`),rc=new RegExp(`^hsl\\(${ne},${Tt},${Tt}\\)$`),ic=new RegExp(`^hsla\\(${ne},${Tt},${Tt},${ne}\\)$`),va={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Hi(ce,an,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_a,formatHex:_a,formatHex8:ac,formatHsl:oc,formatRgb:ya,toString:ya});function _a(){return this.rgb().formatHex()}function ac(){return this.rgb().formatHex8()}function oc(){return cf(this).formatHsl()}function ya(){return this.rgb().formatRgb()}function an(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Qs.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?ba(n):e===3?new lt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?xe(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?xe(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=js.exec(t))?new lt(n[1],n[2],n[3],1):(n=tc.exec(t))?new lt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=nc.exec(t))?xe(n[1],n[2],n[3],n[4]):(n=ec.exec(t))?xe(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=rc.exec(t))?$a(n[1],n[2]/100,n[3]/100,1):(n=ic.exec(t))?$a(n[1],n[2]/100,n[3]/100,n[4]):va.hasOwnProperty(t)?ba(va[t]):t==="transparent"?new lt(NaN,NaN,NaN,0):null}function ba(t){return new lt(t>>16&255,t>>8&255,t&255,1)}function xe(t,n,e,r){return r<=0&&(t=n=e=NaN),new lt(t,n,e,r)}function fc(t){return t instanceof ce||(t=an(t)),t?(t=t.rgb(),new lt(t.r,t.g,t.b,t.opacity)):new lt}function Ue(t,n,e,r){return arguments.length===1?fc(t):new lt(t,n,e,r??1)}function lt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Hi(lt,Ue,sf(ce,{brighter(t){return t=t==null?Ye:Math.pow(Ye,t),new lt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?te:Math.pow(te,t),new lt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new lt(tn(this.r),tn(this.g),tn(this.b),Ge(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wa,formatHex:wa,formatHex8:uc,formatRgb:xa,toString:xa}));function wa(){return`#${jt(this.r)}${jt(this.g)}${jt(this.b)}`}function uc(){return`#${jt(this.r)}${jt(this.g)}${jt(this.b)}${jt((isNaN(this.opacity)?1:this.opacity)*255)}`}function xa(){const t=Ge(this.opacity);return`${t===1?"rgb(":"rgba("}${tn(this.r)}, ${tn(this.g)}, ${tn(this.b)}${t===1?")":`, ${t})`}`}function Ge(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function jt(t){return t=tn(t),(t<16?"0":"")+t.toString(16)}function $a(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new $t(t,n,e,r)}function cf(t){if(t instanceof $t)return new $t(t.h,t.s,t.l,t.opacity);if(t instanceof ce||(t=an(t)),!t)return new $t;if(t instanceof $t)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,f=a-i,l=(a+i)/2;return f?(n===a?o=(e-r)/f+(e<r)*6:e===a?o=(r-n)/f+2:o=(n-e)/f+4,f/=l<.5?a+i:2-a-i,o*=60):f=l>0&&l<1?0:o,new $t(o,f,l,t.opacity)}function lc(t,n,e,r){return arguments.length===1?cf(t):new $t(t,n,e,r??1)}function $t(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Hi($t,lc,sf(ce,{brighter(t){return t=t==null?Ye:Math.pow(Ye,t),new $t(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?te:Math.pow(te,t),new $t(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new lt(Dr(t>=240?t-240:t+120,i,r),Dr(t,i,r),Dr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new $t(Ma(this.h),$e(this.s),$e(this.l),Ge(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ge(this.opacity);return`${t===1?"hsl(":"hsla("}${Ma(this.h)}, ${$e(this.s)*100}%, ${$e(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ma(t){return t=(t||0)%360,t<0?t+360:t}function $e(t){return Math.max(0,Math.min(1,t||0))}function Dr(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}function sc(t,n,e,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*r+o*i)/6}function cc(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,f=r<n-1?t[r+2]:2*a-i;return sc((e-r/n)*n,o,i,a,f)}}const Bi=t=>()=>t;function hc(t,n){return function(e){return t+e*n}}function dc(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function pc(t){return(t=+t)==1?hf:function(n,e){return e-n?dc(n,e,t):Bi(isNaN(n)?e:n)}}function hf(t,n){var e=n-t;return e?hc(t,e):Bi(isNaN(t)?n:t)}const We=function t(n){var e=pc(n);function r(i,a){var o=e((i=Ue(i)).r,(a=Ue(a)).r),f=e(i.g,a.g),l=e(i.b,a.b),u=hf(i.opacity,a.opacity);return function(s){return i.r=o(s),i.g=f(s),i.b=l(s),i.opacity=u(s),i+""}}return r.gamma=t,r}(1);function gc(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),a=new Array(e),o,f;for(o=0;o<e;++o)f=Ue(n[o]),r[o]=f.r||0,i[o]=f.g||0,a[o]=f.b||0;return r=t(r),i=t(i),a=t(a),f.opacity=1,function(l){return f.r=r(l),f.g=i(l),f.b=a(l),f+""}}}var mc=gc(cc);function vc(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(a){for(i=0;i<e;++i)r[i]=t[i]*(1-a)+n[i]*a;return r}}function _c(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yc(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),a=new Array(e),o;for(o=0;o<r;++o)i[o]=he(t[o],n[o]);for(;o<e;++o)a[o]=n[o];return function(f){for(o=0;o<r;++o)a[o]=i[o](f);return a}}function bc(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function bt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function wc(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=he(t[i],n[i]):r[i]=n[i];return function(a){for(i in e)r[i]=e[i](a);return r}}var ii=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lr=new RegExp(ii.source,"g");function xc(t){return function(){return t}}function $c(t){return function(n){return t(n)+""}}function df(t,n){var e=ii.lastIndex=Lr.lastIndex=0,r,i,a,o=-1,f=[],l=[];for(t=t+"",n=n+"";(r=ii.exec(t))&&(i=Lr.exec(n));)(a=i.index)>e&&(a=n.slice(e,a),f[o]?f[o]+=a:f[++o]=a),(r=r[0])===(i=i[0])?f[o]?f[o]+=i:f[++o]=i:(f[++o]=null,l.push({i:o,x:bt(r,i)})),e=Lr.lastIndex;return e<n.length&&(a=n.slice(e),f[o]?f[o]+=a:f[++o]=a),f.length<2?l[0]?$c(l[0].x):xc(n):(n=l.length,function(u){for(var s=0,c;s<n;++s)f[(c=l[s]).i]=c.x(u);return f.join("")})}function he(t,n){var e=typeof n,r;return n==null||e==="boolean"?Bi(n):(e==="number"?bt:e==="string"?(r=an(n))?(n=r,We):df:n instanceof an?We:n instanceof Date?bc:_c(n)?vc:Array.isArray(n)?yc:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?wc:bt)(t,n)}function pf(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Na=180/Math.PI,ai={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gf(t,n,e,r,i,a){var o,f,l;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(l=t*e+n*r)&&(e-=t*l,r-=n*l),(f=Math.sqrt(e*e+r*r))&&(e/=f,r/=f,l/=f),t*r<n*e&&(t=-t,n=-n,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*Na,skewX:Math.atan(l)*Na,scaleX:o,scaleY:f}}var Me;function Mc(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?ai:gf(n.a,n.b,n.c,n.d,n.e,n.f)}function Nc(t){return t==null||(Me||(Me=document.createElementNS("http://www.w3.org/2000/svg","g")),Me.setAttribute("transform",t),!(t=Me.transform.baseVal.consolidate()))?ai:(t=t.matrix,gf(t.a,t.b,t.c,t.d,t.e,t.f))}function mf(t,n,e,r){function i(u){return u.length?u.pop()+" ":""}function a(u,s,c,h,d,p){if(u!==c||s!==h){var b=d.push("translate(",null,n,null,e);p.push({i:b-4,x:bt(u,c)},{i:b-2,x:bt(s,h)})}else(c||h)&&d.push("translate("+c+n+h+e)}function o(u,s,c,h){u!==s?(u-s>180?s+=360:s-u>180&&(u+=360),h.push({i:c.push(i(c)+"rotate(",null,r)-2,x:bt(u,s)})):s&&c.push(i(c)+"rotate("+s+r)}function f(u,s,c,h){u!==s?h.push({i:c.push(i(c)+"skewX(",null,r)-2,x:bt(u,s)}):s&&c.push(i(c)+"skewX("+s+r)}function l(u,s,c,h,d,p){if(u!==c||s!==h){var b=d.push(i(d)+"scale(",null,",",null,")");p.push({i:b-4,x:bt(u,c)},{i:b-2,x:bt(s,h)})}else(c!==1||h!==1)&&d.push(i(d)+"scale("+c+","+h+")")}return function(u,s){var c=[],h=[];return u=t(u),s=t(s),a(u.translateX,u.translateY,s.translateX,s.translateY,c,h),o(u.rotate,s.rotate,c,h),f(u.skewX,s.skewX,c,h),l(u.scaleX,u.scaleY,s.scaleX,s.scaleY,c,h),u=s=null,function(d){for(var p=-1,b=h.length,g;++p<b;)c[(g=h[p]).i]=g.x(d);return c.join("")}}}var Sc=mf(Mc,"px, ","px)","deg)"),Ac=mf(Nc,", ",")",")"),Cn=0,Xn=0,Hn=0,vf=1e3,Ke,Yn,Ze=0,on=0,vr=0,ee=typeof performance=="object"&&performance.now?performance:Date,_f=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qi(){return on||(_f(Ec),on=ee.now()+vr)}function Ec(){on=0}function Je(){this._call=this._time=this._next=null}Je.prototype=yf.prototype={constructor:Je,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?qi():+e)+(n==null?0:+n),!this._next&&Yn!==this&&(Yn?Yn._next=this:Ke=this,Yn=this),this._call=t,this._time=e,oi()},stop:function(){this._call&&(this._call=null,this._time=1/0,oi())}};function yf(t,n,e){var r=new Je;return r.restart(t,n,e),r}function kc(){qi(),++Cn;for(var t=Ke,n;t;)(n=on-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Cn}function Sa(){on=(Ze=ee.now())+vr,Cn=Xn=0;try{kc()}finally{Cn=0,Tc(),on=0}}function Cc(){var t=ee.now(),n=t-Ze;n>vf&&(vr-=n,Ze=t)}function Tc(){for(var t,n=Ke,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ke=e);Yn=t,oi(r)}function oi(t){if(!Cn){Xn&&(Xn=clearTimeout(Xn));var n=t-on;n>24?(t<1/0&&(Xn=setTimeout(Sa,t-ee.now()-vr)),Hn&&(Hn=clearInterval(Hn))):(Hn||(Ze=ee.now(),Hn=setInterval(Cc,vf)),Cn=1,_f(Sa))}}function Aa(t,n,e){var r=new Je;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var Rc=zi("start","end","cancel","interrupt"),Pc=[],bf=0,Ea=1,fi=2,ze=3,ka=4,ui=5,Fe=6;function _r(t,n,e,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(e in o)return;Dc(t,e,{name:n,index:r,group:i,on:Rc,tween:Pc,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:bf})}function Vi(t,n){var e=Mt(t,n);if(e.state>bf)throw new Error("too late; already scheduled");return e}function Dt(t,n){var e=Mt(t,n);if(e.state>ze)throw new Error("too late; already running");return e}function Mt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Dc(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=yf(a,0,e.time);function a(u){e.state=Ea,e.timer.restart(o,e.delay,e.time),e.delay<=u&&o(u-e.delay)}function o(u){var s,c,h,d;if(e.state!==Ea)return l();for(s in r)if(d=r[s],d.name===e.name){if(d.state===ze)return Aa(o);d.state===ka?(d.state=Fe,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[s]):+s<n&&(d.state=Fe,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[s])}if(Aa(function(){e.state===ze&&(e.state=ka,e.timer.restart(f,e.delay,e.time),f(u))}),e.state=fi,e.on.call("start",t,t.__data__,e.index,e.group),e.state===fi){for(e.state=ze,i=new Array(h=e.tween.length),s=0,c=-1;s<h;++s)(d=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(i[++c]=d);i.length=c+1}}function f(u){for(var s=u<e.duration?e.ease.call(null,u/e.duration):(e.timer.restart(l),e.state=ui,1),c=-1,h=i.length;++c<h;)i[c].call(t,s);e.state===ui&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){e.state=Fe,e.timer.stop(),delete r[n];for(var u in r)return;delete t.__transition}}function li(t,n){var e=t.__transition,r,i,a=!0,o;if(e){n=n==null?null:n+"";for(o in e){if((r=e[o]).name!==n){a=!1;continue}i=r.state>fi&&r.state<ui,r.state=Fe,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[o]}a&&delete t.__transition}}function Lc(t){return this.each(function(){li(this,t)})}function Ic(t,n){var e,r;return function(){var i=Dt(this,t),a=i.tween;if(a!==e){r=e=a;for(var o=0,f=r.length;o<f;++o)if(r[o].name===n){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function zc(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var a=Dt(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var f={name:n,value:e},l=0,u=i.length;l<u;++l)if(i[l].name===n){i[l]=f;break}l===u&&i.push(f)}a.tween=i}}function Fc(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=Mt(this.node(),e).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((n==null?Ic:zc)(e,t,n))}function Xi(t,n,e){var r=t._id;return t.each(function(){var i=Dt(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return Mt(i,r).value[n]}}function wf(t,n){var e;return(typeof n=="number"?bt:n instanceof an?We:(e=an(n))?(n=e,We):df)(t,n)}function Oc(t){return function(){this.removeAttribute(t)}}function Hc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Bc(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=n(r=o,e)}}function qc(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=n(r=o,e)}}function Vc(t,n,e){var r,i,a;return function(){var o,f=e(this),l;return f==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=f+"",o===l?null:o===r&&l===i?a:(i=l,a=n(r=o,f)))}}function Xc(t,n,e){var r,i,a;return function(){var o,f=e(this),l;return f==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=f+"",o===l?null:o===r&&l===i?a:(i=l,a=n(r=o,f)))}}function Yc(t,n){var e=mr(t),r=e==="transform"?Ac:wf;return this.attrTween(t,typeof n=="function"?(e.local?Xc:Vc)(e,r,Xi(this,"attr."+t,n)):n==null?(e.local?Hc:Oc)(e):(e.local?qc:Bc)(e,r,n))}function Uc(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Gc(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Wc(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&Gc(t,a)),e}return i._value=n,i}function Kc(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&Uc(t,a)),e}return i._value=n,i}function Zc(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=mr(t);return this.tween(e,(r.local?Wc:Kc)(r,n))}function Jc(t,n){return function(){Vi(this,t).delay=+n.apply(this,arguments)}}function Qc(t,n){return n=+n,function(){Vi(this,t).delay=n}}function jc(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Jc:Qc)(n,t)):Mt(this.node(),n).delay}function th(t,n){return function(){Dt(this,t).duration=+n.apply(this,arguments)}}function nh(t,n){return n=+n,function(){Dt(this,t).duration=n}}function eh(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?th:nh)(n,t)):Mt(this.node(),n).duration}function rh(t,n){if(typeof n!="function")throw new Error;return function(){Dt(this,t).ease=n}}function ih(t){var n=this._id;return arguments.length?this.each(rh(n,t)):Mt(this.node(),n).ease}function ah(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;Dt(this,t).ease=e}}function oh(t){if(typeof t!="function")throw new Error;return this.each(ah(this._id,t))}function fh(t){typeof t!="function"&&(t=jo(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,f=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&f.push(l);return new Bt(r,this._parents,this._name,this._id)}function uh(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),f=0;f<a;++f)for(var l=n[f],u=e[f],s=l.length,c=o[f]=new Array(s),h,d=0;d<s;++d)(h=l[d]||u[d])&&(c[d]=h);for(;f<r;++f)o[f]=n[f];return new Bt(o,this._parents,this._name,this._id)}function lh(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function sh(t,n,e){var r,i,a=lh(n)?Vi:Dt;return function(){var o=a(this,t),f=o.on;f!==r&&(i=(r=f).copy()).on(n,e),o.on=i}}function ch(t,n){var e=this._id;return arguments.length<2?Mt(this.node(),e).on.on(t):this.each(sh(e,t,n))}function hh(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function dh(){return this.on("end.remove",hh(this._id))}function ph(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Fi(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var f=r[o],l=f.length,u=a[o]=new Array(l),s,c,h=0;h<l;++h)(s=f[h])&&(c=t.call(s,s.__data__,h,f))&&("__data__"in s&&(c.__data__=s.__data__),u[h]=c,_r(u[h],n,e,h,u,Mt(s,e)));return new Bt(a,this._parents,n,e)}function gh(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Qo(t));for(var r=this._groups,i=r.length,a=[],o=[],f=0;f<i;++f)for(var l=r[f],u=l.length,s,c=0;c<u;++c)if(s=l[c]){for(var h=t.call(s,s.__data__,c,l),d,p=Mt(s,e),b=0,g=h.length;b<g;++b)(d=h[b])&&_r(d,n,e,b,h,p);a.push(h),o.push(s)}return new Bt(a,o,n,e)}var mh=se.prototype.constructor;function vh(){return new mh(this._groups,this._parents)}function _h(t,n){var e,r,i;return function(){var a=kn(this,t),o=(this.style.removeProperty(t),kn(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}function xf(t){return function(){this.style.removeProperty(t)}}function yh(t,n,e){var r,i=e+"",a;return function(){var o=kn(this,t);return o===i?null:o===r?a:a=n(r=o,e)}}function bh(t,n,e){var r,i,a;return function(){var o=kn(this,t),f=e(this),l=f+"";return f==null&&(l=f=(this.style.removeProperty(t),kn(this,t))),o===l?null:o===r&&l===i?a:(i=l,a=n(r=o,f))}}function wh(t,n){var e,r,i,a="style."+n,o="end."+a,f;return function(){var l=Dt(this,t),u=l.on,s=l.value[a]==null?f||(f=xf(n)):void 0;(u!==e||i!==s)&&(r=(e=u).copy()).on(o,i=s),l.on=r}}function xh(t,n,e){var r=(t+="")=="transform"?Sc:wf;return n==null?this.styleTween(t,_h(t,r)).on("end.style."+t,xf(t)):typeof n=="function"?this.styleTween(t,bh(t,r,Xi(this,"style."+t,n))).each(wh(this._id,t)):this.styleTween(t,yh(t,r,n),e).on("end.style."+t,null)}function $h(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Mh(t,n,e){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&$h(t,o,e)),r}return a._value=n,a}function Nh(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Mh(t,n,e??""))}function Sh(t){return function(){this.textContent=t}}function Ah(t){return function(){var n=t(this);this.textContent=n??""}}function Eh(t){return this.tween("text",typeof t=="function"?Ah(Xi(this,"text",t)):Sh(t==null?"":t+""))}function kh(t){return function(n){this.textContent=t.call(this,n)}}function Ch(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&kh(i)),n}return r._value=t,r}function Th(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Ch(t))}function Rh(){for(var t=this._name,n=this._id,e=$f(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],f=o.length,l,u=0;u<f;++u)if(l=o[u]){var s=Mt(l,n);_r(l,t,e,u,o,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Bt(r,this._parents,t,e)}function Ph(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(a,o){var f={value:o},l={value:function(){--i===0&&a()}};e.each(function(){var u=Dt(this,r),s=u.on;s!==t&&(n=(t=s).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(l)),u.on=n}),i===0&&a()})}var Dh=0;function Bt(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function $f(){return++Dh}var zt=se.prototype;Bt.prototype={constructor:Bt,select:ph,selectAll:gh,selectChild:zt.selectChild,selectChildren:zt.selectChildren,filter:fh,merge:uh,selection:vh,transition:Rh,call:zt.call,nodes:zt.nodes,node:zt.node,size:zt.size,empty:zt.empty,each:zt.each,on:ch,attr:Yc,attrTween:Zc,style:xh,styleTween:Nh,text:Eh,textTween:Th,remove:dh,tween:Fc,delay:jc,duration:eh,ease:ih,easeVarying:oh,end:Ph,[Symbol.iterator]:zt[Symbol.iterator]};function Lh(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ih={time:null,delay:0,duration:250,ease:Lh};function zh(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Fh(t){var n,e;t instanceof Bt?(n=t._id,t=t._name):(n=$f(),(e=Ih).time=qi(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],f=o.length,l,u=0;u<f;++u)(l=o[u])&&_r(l,t,n,u,o,e||zh(l,n));return new Bt(r,this._parents,t,n)}se.prototype.interrupt=Lc;se.prototype.transition=Fh;const Ir=t=>()=>t;function Oh(t,{sourceEvent:n,target:e,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function Hh(t){t.stopImmediatePropagation()}function zr(t){t.preventDefault(),t.stopImmediatePropagation()}var Ca={name:"drag"},Fr={name:"space"},mn={name:"handle"},vn={name:"center"};const{abs:Ta,max:at,min:ot}=Math;function Ra(t){return[+t[0],+t[1]]}function Pa(t){return[Ra(t[0]),Ra(t[1])]}var Oe={name:"x",handles:["w","e"].map(Qe),input:function(t,n){return t==null?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Or={name:"y",handles:["n","s"].map(Qe),input:function(t,n){return t==null?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Ft={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Da={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},La={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Bh={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},qh={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Qe(t){return{type:t}}function Vh(t){return!t.ctrlKey&&!t.button}function Xh(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Yh(){return navigator.maxTouchPoints||"ontouchstart"in this}function Hr(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Uh(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Gh(){return Wh(Oe)}function Wh(t){var n=Xh,e=Vh,r=Yh,i=!0,a=zi("start","brush","end"),o=6,f;function l(g){var w=g.property("__brush",b).selectAll(".overlay").data([Qe("overlay")]);w.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ft.overlay).merge(w).each(function(){var y=Hr(this).extent;xt(this).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1])}),g.selectAll(".selection").data([Qe("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ft.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var _=g.selectAll(".handle").data(t.handles,function(y){return y.type});_.exit().remove(),_.enter().append("rect").attr("class",function(y){return"handle handle--"+y.type}).attr("cursor",function(y){return Ft[y.type]}),g.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(r).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(g,w,_){g.tween?g.on("start.brush",function(y){s(this,arguments).beforestart().start(y)}).on("interrupt.brush end.brush",function(y){s(this,arguments).end(y)}).tween("brush",function(){var y=this,$=y.__brush,v=s(y,arguments),A=$.selection,x=t.input(typeof w=="function"?w.apply(this,arguments):w,$.extent),m=he(A,x);function S(C){$.selection=C===1&&x===null?null:m(C),u.call(y),v.brush()}return A!==null&&x!==null?S:S(1)}):g.each(function(){var y=this,$=arguments,v=y.__brush,A=t.input(typeof w=="function"?w.apply(y,$):w,v.extent),x=s(y,$).beforestart();li(y),v.selection=A===null?null:A,u.call(y),x.start(_).brush(_).end(_)})},l.clear=function(g,w){l.move(g,null,w)};function u(){var g=xt(this),w=Hr(this).selection;w?(g.selectAll(".selection").style("display",null).attr("x",w[0][0]).attr("y",w[0][1]).attr("width",w[1][0]-w[0][0]).attr("height",w[1][1]-w[0][1]),g.selectAll(".handle").style("display",null).attr("x",function(_){return _.type[_.type.length-1]==="e"?w[1][0]-o/2:w[0][0]-o/2}).attr("y",function(_){return _.type[0]==="s"?w[1][1]-o/2:w[0][1]-o/2}).attr("width",function(_){return _.type==="n"||_.type==="s"?w[1][0]-w[0][0]+o:o}).attr("height",function(_){return _.type==="e"||_.type==="w"?w[1][1]-w[0][1]+o:o})):g.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function s(g,w,_){var y=g.__brush.emitter;return y&&(!_||!y.clean)?y:new c(g,w,_)}function c(g,w,_){this.that=g,this.args=w,this.state=g.__brush,this.active=0,this.clean=_}c.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(g,w){return this.starting?(this.starting=!1,this.emit("start",g,w)):this.emit("brush",g),this},brush:function(g,w){return this.emit("brush",g,w),this},end:function(g,w){return--this.active===0&&(delete this.state.emitter,this.emit("end",g,w)),this},emit:function(g,w,_){var y=xt(this.that).datum();a.call(g,this.that,new Oh(g,{sourceEvent:w,target:l,selection:t.output(this.state.selection),mode:_,dispatch:a}),y)}};function h(g){if(f&&!g.touches||!e.apply(this,arguments))return;var w=this,_=g.target.__data__.type,y=(i&&g.metaKey?_="overlay":_)==="selection"?Ca:i&&g.altKey?vn:mn,$=t===Or?null:Bh[_],v=t===Oe?null:qh[_],A=Hr(w),x=A.extent,m=A.selection,S=x[0][0],C,M,D=x[0][1],E,R,N=x[1][0],k,L,q=x[1][1],I,B,H=0,O=0,U,et=$&&v&&i&&g.shiftKey,rt,qt,tt=Array.from(g.touches||[g],z=>{const K=z.identifier;return z=ma(z,w),z.point0=z.slice(),z.identifier=K,z});li(w);var pt=s(w,arguments,!0).beforestart();if(_==="overlay"){m&&(U=!0);const z=[tt[0],tt[1]||tt[0]];A.selection=m=[[C=t===Or?S:ot(z[0][0],z[1][0]),E=t===Oe?D:ot(z[0][1],z[1][1])],[k=t===Or?N:at(z[0][0],z[1][0]),I=t===Oe?q:at(z[0][1],z[1][1])]],tt.length>1&&it(g)}else C=m[0][0],E=m[0][1],k=m[1][0],I=m[1][1];M=C,R=E,L=k,B=I;var Lt=xt(w).attr("pointer-events","none"),It=Lt.selectAll(".overlay").attr("cursor",Ft[_]);if(g.touches)pt.moved=Zt,pt.ended=cn;else{var zn=xt(g.view).on("mousemove.brush",Zt,!0).on("mouseup.brush",cn,!0);i&&zn.on("keydown.brush",de,!0).on("keyup.brush",Vt,!0),Zs(g.view)}u.call(w),pt.start(g,y.name);function Zt(z){for(const K of z.changedTouches||[z])for(const Nt of tt)Nt.identifier===K.identifier&&(Nt.cur=ma(K,w));if(et&&!rt&&!qt&&tt.length===1){const K=tt[0];Ta(K.cur[0]-K[0])>Ta(K.cur[1]-K[1])?qt=!0:rt=!0}for(const K of tt)K.cur&&(K[0]=K.cur[0],K[1]=K.cur[1]);U=!0,zr(z),it(z)}function it(z){const K=tt[0],Nt=K.point0;var nt;switch(H=K[0]-Nt[0],O=K[1]-Nt[1],y){case Fr:case Ca:{$&&(H=at(S-C,ot(N-k,H)),M=C+H,L=k+H),v&&(O=at(D-E,ot(q-I,O)),R=E+O,B=I+O);break}case mn:{tt[1]?($&&(M=at(S,ot(N,tt[0][0])),L=at(S,ot(N,tt[1][0])),$=1),v&&(R=at(D,ot(q,tt[0][1])),B=at(D,ot(q,tt[1][1])),v=1)):($<0?(H=at(S-C,ot(N-C,H)),M=C+H,L=k):$>0&&(H=at(S-k,ot(N-k,H)),M=C,L=k+H),v<0?(O=at(D-E,ot(q-E,O)),R=E+O,B=I):v>0&&(O=at(D-I,ot(q-I,O)),R=E,B=I+O));break}case vn:{$&&(M=at(S,ot(N,C-H*$)),L=at(S,ot(N,k+H*$))),v&&(R=at(D,ot(q,E-O*v)),B=at(D,ot(q,I+O*v)));break}}L<M&&($*=-1,nt=C,C=k,k=nt,nt=M,M=L,L=nt,_ in Da&&It.attr("cursor",Ft[_=Da[_]])),B<R&&(v*=-1,nt=E,E=I,I=nt,nt=R,R=B,B=nt,_ in La&&It.attr("cursor",Ft[_=La[_]])),A.selection&&(m=A.selection),rt&&(M=m[0][0],L=m[1][0]),qt&&(R=m[0][1],B=m[1][1]),(m[0][0]!==M||m[0][1]!==R||m[1][0]!==L||m[1][1]!==B)&&(A.selection=[[M,R],[L,B]],u.call(w),pt.brush(z,y.name))}function cn(z){if(Hh(z),z.touches){if(z.touches.length)return;f&&clearTimeout(f),f=setTimeout(function(){f=null},500)}else Js(z.view,U),zn.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Lt.attr("pointer-events","all"),It.attr("cursor",Ft.overlay),A.selection&&(m=A.selection),Uh(m)&&(A.selection=null,u.call(w)),pt.end(z,y.name)}function de(z){switch(z.keyCode){case 16:{et=$&&v;break}case 18:{y===mn&&($&&(k=L-H*$,C=M+H*$),v&&(I=B-O*v,E=R+O*v),y=vn,it(z));break}case 32:{(y===mn||y===vn)&&($<0?k=L-H:$>0&&(C=M-H),v<0?I=B-O:v>0&&(E=R-O),y=Fr,It.attr("cursor",Ft.selection),it(z));break}default:return}zr(z)}function Vt(z){switch(z.keyCode){case 16:{et&&(rt=qt=et=!1,it(z));break}case 18:{y===vn&&($<0?k=L:$>0&&(C=M),v<0?I=B:v>0&&(E=R),y=mn,it(z));break}case 32:{y===Fr&&(z.altKey?($&&(k=L-H*$,C=M+H*$),v&&(I=B-O*v,E=R+O*v),y=vn):($<0?k=L:$>0&&(C=M),v<0?I=B:v>0&&(E=R),y=mn),It.attr("cursor",Ft[_]),it(z));break}default:return}zr(z)}}function d(g){s(this,arguments).moved(g)}function p(g){s(this,arguments).ended(g)}function b(){var g=this.__brush||{selection:null};return g.extent=Pa(n.apply(this,arguments)),g.dim=t,g}return l.extent=function(g){return arguments.length?(n=typeof g=="function"?g:Ir(Pa(g)),l):n},l.filter=function(g){return arguments.length?(e=typeof g=="function"?g:Ir(!!g),l):e},l.touchable=function(g){return arguments.length?(r=typeof g=="function"?g:Ir(!!g),l):r},l.handleSize=function(g){return arguments.length?(o=+g,l):o},l.keyModifiers=function(g){return arguments.length?(i=!!g,l):i},l.on=function(){var g=a.on.apply(a,arguments);return g===a?l:g},l}var Ia={},Br={},qr=34,Bn=10,Vr=13;function Mf(t){return new Function("d","return {"+t.map(function(n,e){return JSON.stringify(n)+": d["+e+'] || ""'}).join(",")+"}")}function Kh(t,n){var e=Mf(t);return function(r,i){return n(e(r),i,t)}}function za(t){var n=Object.create(null),e=[];return t.forEach(function(r){for(var i in r)i in n||e.push(n[i]=i)}),e}function ut(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Zh(t){return t<0?"-"+ut(-t,6):t>9999?"+"+ut(t,6):ut(t,4)}function Jh(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Zh(t.getUTCFullYear())+"-"+ut(t.getUTCMonth()+1,2)+"-"+ut(t.getUTCDate(),2)+(i?"T"+ut(n,2)+":"+ut(e,2)+":"+ut(r,2)+"."+ut(i,3)+"Z":r?"T"+ut(n,2)+":"+ut(e,2)+":"+ut(r,2)+"Z":e||n?"T"+ut(n,2)+":"+ut(e,2)+"Z":"")}function Qh(t){var n=new RegExp('["'+t+`
\r]`),e=t.charCodeAt(0);function r(c,h){var d,p,b=i(c,function(g,w){if(d)return d(g,w-1);p=g,d=h?Kh(g,h):Mf(g)});return b.columns=p||[],b}function i(c,h){var d=[],p=c.length,b=0,g=0,w,_=p<=0,y=!1;c.charCodeAt(p-1)===Bn&&--p,c.charCodeAt(p-1)===Vr&&--p;function $(){if(_)return Br;if(y)return y=!1,Ia;var A,x=b,m;if(c.charCodeAt(x)===qr){for(;b++<p&&c.charCodeAt(b)!==qr||c.charCodeAt(++b)===qr;);return(A=b)>=p?_=!0:(m=c.charCodeAt(b++))===Bn?y=!0:m===Vr&&(y=!0,c.charCodeAt(b)===Bn&&++b),c.slice(x+1,A-1).replace(/""/g,'"')}for(;b<p;){if((m=c.charCodeAt(A=b++))===Bn)y=!0;else if(m===Vr)y=!0,c.charCodeAt(b)===Bn&&++b;else if(m!==e)continue;return c.slice(x,A)}return _=!0,c.slice(x,p)}for(;(w=$())!==Br;){for(var v=[];w!==Ia&&w!==Br;)v.push(w),w=$();h&&(v=h(v,g++))==null||d.push(v)}return d}function a(c,h){return c.map(function(d){return h.map(function(p){return s(d[p])}).join(t)})}function o(c,h){return h==null&&(h=za(c)),[h.map(s).join(t)].concat(a(c,h)).join(`
`)}function f(c,h){return h==null&&(h=za(c)),a(c,h).join(`
`)}function l(c){return c.map(u).join(`
`)}function u(c){return c.map(s).join(t)}function s(c){return c==null?"":c instanceof Date?Jh(c):n.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:r,parseRows:i,format:o,formatBody:f,formatRows:l,formatRow:u,formatValue:s}}var jh=Qh(","),t0=jh.parse;function n0(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function e0(t,n){return fetch(t,n).then(n0)}function r0(t){return function(n,e,r){return arguments.length===2&&typeof e=="function"&&(r=e,e=void 0),e0(n,e).then(function(i){return t(i,r)})}}var i0=r0(t0);function a0(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function o0(t,n){return fetch(t,n).then(a0)}function f0(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function je(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Tn(t){return t=je(Math.abs(t)),t?t[1]:NaN}function u0(t,n){return function(e,r){for(var i=e.length,a=[],o=0,f=t[0],l=0;i>0&&f>0&&(l+f+1>r&&(f=Math.max(1,r-l)),a.push(e.substring(i-=f,i+f)),!((l+=f+1)>r));)f=t[o=(o+1)%t.length];return a.reverse().join(n)}}function l0(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var s0=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tr(t){if(!(n=s0.exec(t)))throw new Error("invalid format: "+t);var n;return new Yi({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}tr.prototype=Yi.prototype;function Yi(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Yi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function c0(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Nf;function h0(t,n){var e=je(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(Nf=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+je(t,Math.max(0,n+a-1))[0]}function Fa(t,n){var e=je(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Oa={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:f0,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Fa(t*100,n),r:Fa,s:h0,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ha(t){return t}var Ba=Array.prototype.map,qa=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function d0(t){var n=t.grouping===void 0||t.thousands===void 0?Ha:u0(Ba.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Ha:l0(Ba.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(c){c=tr(c);var h=c.fill,d=c.align,p=c.sign,b=c.symbol,g=c.zero,w=c.width,_=c.comma,y=c.precision,$=c.trim,v=c.type;v==="n"?(_=!0,v="g"):Oa[v]||(y===void 0&&(y=12),$=!0,v="g"),(g||h==="0"&&d==="=")&&(g=!0,h="0",d="=");var A=b==="$"?e:b==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x=b==="$"?r:/[%p]/.test(v)?o:"",m=Oa[v],S=/[defgprs%]/.test(v);y=y===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function C(M){var D=A,E=x,R,N,k;if(v==="c")E=m(M)+E,M="";else{M=+M;var L=M<0||1/M<0;if(M=isNaN(M)?l:m(Math.abs(M),y),$&&(M=c0(M)),L&&+M==0&&p!=="+"&&(L=!1),D=(L?p==="("?p:f:p==="-"||p==="("?"":p)+D,E=(v==="s"?qa[8+Nf/3]:"")+E+(L&&p==="("?")":""),S){for(R=-1,N=M.length;++R<N;)if(k=M.charCodeAt(R),48>k||k>57){E=(k===46?i+M.slice(R+1):M.slice(R))+E,M=M.slice(0,R);break}}}_&&!g&&(M=n(M,1/0));var q=D.length+M.length+E.length,I=q<w?new Array(w-q+1).join(h):"";switch(_&&g&&(M=n(I+M,I.length?w-E.length:1/0),I=""),d){case"<":M=D+M+E+I;break;case"=":M=D+I+M+E;break;case"^":M=I.slice(0,q=I.length>>1)+D+M+E+I.slice(q);break;default:M=I+D+M+E;break}return a(M)}return C.toString=function(){return c+""},C}function s(c,h){var d=u((c=tr(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(Tn(h)/3)))*3,b=Math.pow(10,-p),g=qa[8+p/3];return function(w){return d(b*w)+g}}return{format:u,formatPrefix:s}}var Ne,Sf,Af;p0({thousands:",",grouping:[3],currency:["$",""]});function p0(t){return Ne=d0(t),Sf=Ne.format,Af=Ne.formatPrefix,Ne}function g0(t){return Math.max(0,-Tn(Math.abs(t)))}function m0(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tn(n)/3)))*3-Tn(Math.abs(t)))}function v0(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Tn(n)-Tn(t))+1}var Y=1e-6,_0=1e-12,X=Math.PI,st=X/2,Va=X/4,dt=X*2,ct=180/X,Q=X/180,W=Math.abs,Ef=Math.atan,re=Math.atan2,Z=Math.cos,y0=Math.exp,b0=Math.log,J=Math.sin,w0=Math.sign||function(t){return t>0?1:t<0?-1:0},sn=Math.sqrt,x0=Math.tan;function $0(t){return t>1?0:t<-1?X:Math.acos(t)}function ie(t){return t>1?st:t<-1?-st:Math.asin(t)}function vt(){}function nr(t,n){t&&Ya.hasOwnProperty(t.type)&&Ya[t.type](t,n)}var Xa={Feature:function(t,n){nr(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)nr(e[r].geometry,n)}},Ya={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){si(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)si(e[r],n,0)},Polygon:function(t,n){Ua(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ua(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)nr(e[r],n)}};function si(t,n,e){var r=-1,i=t.length-e,a;for(n.lineStart();++r<i;)a=t[r],n.point(a[0],a[1],a[2]);n.lineEnd()}function Ua(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)si(t[e],n,1);n.polygonEnd()}function xn(t,n){t&&Xa.hasOwnProperty(t.type)?Xa[t.type](t,n):nr(t,n)}function ci(t){return[re(t[1],t[0]),ie(t[2])]}function Rn(t){var n=t[0],e=t[1],r=Z(e);return[r*Z(n),r*J(n),J(e)]}function Se(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function er(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Xr(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Ae(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function hi(t){var n=sn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function di(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function pi(t,n){return W(t)>X&&(t-=Math.round(t/dt)*dt),[t,n]}pi.invert=pi;function kf(t,n,e){return(t%=dt)?n||e?di(Wa(t),Ka(n,e)):Wa(t):n||e?Ka(n,e):pi}function Ga(t){return function(n,e){return n+=t,W(n)>X&&(n-=Math.round(n/dt)*dt),[n,e]}}function Wa(t){var n=Ga(t);return n.invert=Ga(-t),n}function Ka(t,n){var e=Z(t),r=J(t),i=Z(n),a=J(n);function o(f,l){var u=Z(l),s=Z(f)*u,c=J(f)*u,h=J(l),d=h*e+s*r;return[re(c*i-d*a,s*e-h*r),ie(d*i+c*a)]}return o.invert=function(f,l){var u=Z(l),s=Z(f)*u,c=J(f)*u,h=J(l),d=h*i-c*a;return[re(c*i+h*a,s*e+d*r),ie(d*e-s*r)]},o}function M0(t){t=kf(t[0]*Q,t[1]*Q,t.length>2?t[2]*Q:0);function n(e){return e=t(e[0]*Q,e[1]*Q),e[0]*=ct,e[1]*=ct,e}return n.invert=function(e){return e=t.invert(e[0]*Q,e[1]*Q),e[0]*=ct,e[1]*=ct,e},n}function N0(t,n,e,r,i,a){if(e){var o=Z(n),f=J(n),l=r*e;i==null?(i=n+r*dt,a=n-l/2):(i=Za(o,i),a=Za(o,a),(r>0?i<a:i>a)&&(i+=r*dt));for(var u,s=i;r>0?s>a:s<a;s-=l)u=ci([o,-f*Z(s),-f*J(s)]),t.point(u[0],u[1])}}function Za(t,n){n=Rn(n),n[0]-=t,hi(n);var e=$0(-n[1]);return((-n[2]<0?-e:e)+dt-Y)%dt}function Cf(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:vt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function He(t,n){return W(t[0]-n[0])<Y&&W(t[1]-n[1])<Y}function Ee(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Tf(t,n,e,r,i){var a=[],o=[],f,l;if(t.forEach(function(p){if(!((b=p.length-1)<=0)){var b,g=p[0],w=p[b],_;if(He(g,w)){if(!g[2]&&!w[2]){for(i.lineStart(),f=0;f<b;++f)i.point((g=p[f])[0],g[1]);i.lineEnd();return}w[0]+=2*Y}a.push(_=new Ee(g,p,null,!0)),o.push(_.o=new Ee(g,null,_,!1)),a.push(_=new Ee(w,p,null,!1)),o.push(_.o=new Ee(w,null,_,!0))}}),!!a.length){for(o.sort(n),Ja(a),Ja(o),f=0,l=o.length;f<l;++f)o[f].e=e=!e;for(var u=a[0],s,c;;){for(var h=u,d=!0;h.v;)if((h=h.n)===u)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(f=0,l=s.length;f<l;++f)i.point((c=s[f])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(s=h.p.z,f=s.length-1;f>=0;--f)i.point((c=s[f])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,s=h.z,d=!d}while(!h.v);i.lineEnd()}}}function Ja(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Yr(t){return W(t[0])<=X?t[0]:w0(t[0])*((W(t[0])+X)%dt-X)}function S0(t,n){var e=Yr(n),r=n[1],i=J(r),a=[J(e),-Z(e),0],o=0,f=0,l=new rn;i===1?r=st+Y:i===-1&&(r=-st-Y);for(var u=0,s=t.length;u<s;++u)if(h=(c=t[u]).length)for(var c,h,d=c[h-1],p=Yr(d),b=d[1]/2+Va,g=J(b),w=Z(b),_=0;_<h;++_,p=$,g=A,w=x,d=y){var y=c[_],$=Yr(y),v=y[1]/2+Va,A=J(v),x=Z(v),m=$-p,S=m>=0?1:-1,C=S*m,M=C>X,D=g*A;if(l.add(re(D*S*J(C),w*x+D*Z(C))),o+=M?m+S*dt:m,M^p>=e^$>=e){var E=er(Rn(d),Rn(y));hi(E);var R=er(a,E);hi(R);var N=(M^m>=0?-1:1)*ie(R[2]);(r>N||r===N&&(E[0]||E[1]))&&(f+=M^m>=0?1:-1)}}return(o<-Y||o<Y&&l<-_0)^f&1}function Rf(t,n,e,r){return function(i){var a=n(i),o=Cf(),f=n(o),l=!1,u,s,c,h={point:d,lineStart:b,lineEnd:g,polygonStart:function(){h.point=w,h.lineStart=_,h.lineEnd=y,s=[],u=[]},polygonEnd:function(){h.point=d,h.lineStart=b,h.lineEnd=g,s=Ko(s);var $=S0(u,r);s.length?(l||(i.polygonStart(),l=!0),Tf(s,E0,$,e,i)):$&&(l||(i.polygonStart(),l=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),s=u=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d($,v){t($,v)&&i.point($,v)}function p($,v){a.point($,v)}function b(){h.point=p,a.lineStart()}function g(){h.point=d,a.lineEnd()}function w($,v){c.push([$,v]),f.point($,v)}function _(){f.lineStart(),c=[]}function y(){w(c[0][0],c[0][1]),f.lineEnd();var $=f.clean(),v=o.result(),A,x=v.length,m,S,C;if(c.pop(),u.push(c),c=null,!!x){if($&1){if(S=v[0],(m=S.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),A=0;A<m;++A)i.point((C=S[A])[0],C[1]);i.lineEnd()}return}x>1&&$&2&&v.push(v.pop().concat(v.shift())),s.push(v.filter(A0))}}return h}}function A0(t){return t.length>1}function E0(t,n){return((t=t.x)[0]<0?t[1]-st-Y:st-t[1])-((n=n.x)[0]<0?n[1]-st-Y:st-n[1])}const Qa=Rf(function(){return!0},k0,T0,[-X,-st]);function k0(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var f=a>0?X:-X,l=W(a-n);W(l-X)<Y?(t.point(n,e=(e+o)/2>0?st:-st),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),t.point(a,e),i=0):r!==f&&l>=X&&(W(n-r)<Y&&(n-=r*Y),W(a-f)<Y&&(a-=f*Y),e=C0(n,e,a,o),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),i=0),t.point(n=a,e=o),r=f},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function C0(t,n,e,r){var i,a,o=J(t-e);return W(o)>Y?Ef((J(n)*(a=Z(r))*J(e)-J(r)*(i=Z(n))*J(t))/(i*a*o)):(n+r)/2}function T0(t,n,e,r){var i;if(t==null)i=e*st,r.point(-X,i),r.point(0,i),r.point(X,i),r.point(X,0),r.point(X,-i),r.point(0,-i),r.point(-X,-i),r.point(-X,0),r.point(-X,i);else if(W(t[0]-n[0])>Y){var a=t[0]<n[0]?X:-X;i=e*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(n[0],n[1])}function R0(t){var n=Z(t),e=2*Q,r=n>0,i=W(n)>Y;function a(s,c,h,d){N0(d,t,e,h,s,c)}function o(s,c){return Z(s)*Z(c)>n}function f(s){var c,h,d,p,b;return{lineStart:function(){p=d=!1,b=1},point:function(g,w){var _=[g,w],y,$=o(g,w),v=r?$?0:u(g,w):$?u(g+(g<0?X:-X),w):0;if(!c&&(p=d=$)&&s.lineStart(),$!==d&&(y=l(c,_),(!y||He(c,y)||He(_,y))&&(_[2]=1)),$!==d)b=0,$?(s.lineStart(),y=l(_,c),s.point(y[0],y[1])):(y=l(c,_),s.point(y[0],y[1],2),s.lineEnd()),c=y;else if(i&&c&&r^$){var A;!(v&h)&&(A=l(_,c,!0))&&(b=0,r?(s.lineStart(),s.point(A[0][0],A[0][1]),s.point(A[1][0],A[1][1]),s.lineEnd()):(s.point(A[1][0],A[1][1]),s.lineEnd(),s.lineStart(),s.point(A[0][0],A[0][1],3)))}$&&(!c||!He(c,_))&&s.point(_[0],_[1]),c=_,d=$,h=v},lineEnd:function(){d&&s.lineEnd(),c=null},clean:function(){return b|(p&&d)<<1}}}function l(s,c,h){var d=Rn(s),p=Rn(c),b=[1,0,0],g=er(d,p),w=Se(g,g),_=g[0],y=w-_*_;if(!y)return!h&&s;var $=n*w/y,v=-n*_/y,A=er(b,g),x=Ae(b,$),m=Ae(g,v);Xr(x,m);var S=A,C=Se(x,S),M=Se(S,S),D=C*C-M*(Se(x,x)-1);if(!(D<0)){var E=sn(D),R=Ae(S,(-C-E)/M);if(Xr(R,x),R=ci(R),!h)return R;var N=s[0],k=c[0],L=s[1],q=c[1],I;k<N&&(I=N,N=k,k=I);var B=k-N,H=W(B-X)<Y,O=H||B<Y;if(!H&&q<L&&(I=L,L=q,q=I),O?H?L+q>0^R[1]<(W(R[0]-N)<Y?L:q):L<=R[1]&&R[1]<=q:B>X^(N<=R[0]&&R[0]<=k)){var U=Ae(S,(-C+E)/M);return Xr(U,x),[R,ci(U)]}}}function u(s,c){var h=r?t:X-t,d=0;return s<-h?d|=1:s>h&&(d|=2),c<-h?d|=4:c>h&&(d|=8),d}return Rf(o,f,a,r?[0,-t]:[-X,t-X])}function P0(t,n,e,r,i,a){var o=t[0],f=t[1],l=n[0],u=n[1],s=0,c=1,h=l-o,d=u-f,p;if(p=e-o,!(!h&&p>0)){if(p/=h,h<0){if(p<s)return;p<c&&(c=p)}else if(h>0){if(p>c)return;p>s&&(s=p)}if(p=i-o,!(!h&&p<0)){if(p/=h,h<0){if(p>c)return;p>s&&(s=p)}else if(h>0){if(p<s)return;p<c&&(c=p)}if(p=r-f,!(!d&&p>0)){if(p/=d,d<0){if(p<s)return;p<c&&(c=p)}else if(d>0){if(p>c)return;p>s&&(s=p)}if(p=a-f,!(!d&&p<0)){if(p/=d,d<0){if(p>c)return;p>s&&(s=p)}else if(d>0){if(p<s)return;p<c&&(c=p)}return s>0&&(t[0]=o+s*h,t[1]=f+s*d),c<1&&(n[0]=o+c*h,n[1]=f+c*d),!0}}}}}var Un=1e9,ke=-Un;function D0(t,n,e,r){function i(u,s){return t<=u&&u<=e&&n<=s&&s<=r}function a(u,s,c,h){var d=0,p=0;if(u==null||(d=o(u,c))!==(p=o(s,c))||l(u,s)<0^c>0)do h.point(d===0||d===3?t:e,d>1?r:n);while((d=(d+c+4)%4)!==p);else h.point(s[0],s[1])}function o(u,s){return W(u[0]-t)<Y?s>0?0:3:W(u[0]-e)<Y?s>0?2:1:W(u[1]-n)<Y?s>0?1:0:s>0?3:2}function f(u,s){return l(u.x,s.x)}function l(u,s){var c=o(u,1),h=o(s,1);return c!==h?c-h:c===0?s[1]-u[1]:c===1?u[0]-s[0]:c===2?u[1]-s[1]:s[0]-u[0]}return function(u){var s=u,c=Cf(),h,d,p,b,g,w,_,y,$,v,A,x={point:m,lineStart:D,lineEnd:E,polygonStart:C,polygonEnd:M};function m(N,k){i(N,k)&&s.point(N,k)}function S(){for(var N=0,k=0,L=d.length;k<L;++k)for(var q=d[k],I=1,B=q.length,H=q[0],O,U,et=H[0],rt=H[1];I<B;++I)O=et,U=rt,H=q[I],et=H[0],rt=H[1],U<=r?rt>r&&(et-O)*(r-U)>(rt-U)*(t-O)&&++N:rt<=r&&(et-O)*(r-U)<(rt-U)*(t-O)&&--N;return N}function C(){s=c,h=[],d=[],A=!0}function M(){var N=S(),k=A&&N,L=(h=Ko(h)).length;(k||L)&&(u.polygonStart(),k&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),L&&Tf(h,f,N,a,u),u.polygonEnd()),s=u,h=d=p=null}function D(){x.point=R,d&&d.push(p=[]),v=!0,$=!1,_=y=NaN}function E(){h&&(R(b,g),w&&$&&c.rejoin(),h.push(c.result())),x.point=m,$&&s.lineEnd()}function R(N,k){var L=i(N,k);if(d&&p.push([N,k]),v)b=N,g=k,w=L,v=!1,L&&(s.lineStart(),s.point(N,k));else if(L&&$)s.point(N,k);else{var q=[_=Math.max(ke,Math.min(Un,_)),y=Math.max(ke,Math.min(Un,y))],I=[N=Math.max(ke,Math.min(Un,N)),k=Math.max(ke,Math.min(Un,k))];P0(q,I,t,n,e,r)?($||(s.lineStart(),s.point(q[0],q[1])),s.point(I[0],I[1]),L||s.lineEnd(),A=!1):L&&(s.lineStart(),s.point(N,k),A=!1)}_=N,y=k,$=L}return x}}const gi=t=>t;var Ur=new rn,mi=new rn,Pf,Df,vi,_i,Ht={point:vt,lineStart:vt,lineEnd:vt,polygonStart:function(){Ht.lineStart=L0,Ht.lineEnd=z0},polygonEnd:function(){Ht.lineStart=Ht.lineEnd=Ht.point=vt,Ur.add(W(mi)),mi=new rn},result:function(){var t=Ur/2;return Ur=new rn,t}};function L0(){Ht.point=I0}function I0(t,n){Ht.point=Lf,Pf=vi=t,Df=_i=n}function Lf(t,n){mi.add(_i*t-vi*n),vi=t,_i=n}function z0(){Lf(Pf,Df)}var Pn=1/0,rr=Pn,ae=-Pn,ir=ae,ar={point:F0,lineStart:vt,lineEnd:vt,polygonStart:vt,polygonEnd:vt,result:function(){var t=[[Pn,rr],[ae,ir]];return ae=ir=-(rr=Pn=1/0),t}};function F0(t,n){t<Pn&&(Pn=t),t>ae&&(ae=t),n<rr&&(rr=n),n>ir&&(ir=n)}var yi=0,bi=0,Gn=0,or=0,fr=0,$n=0,wi=0,xi=0,Wn=0,If,zf,At,Et,mt={point:fn,lineStart:ja,lineEnd:to,polygonStart:function(){mt.lineStart=B0,mt.lineEnd=q0},polygonEnd:function(){mt.point=fn,mt.lineStart=ja,mt.lineEnd=to},result:function(){var t=Wn?[wi/Wn,xi/Wn]:$n?[or/$n,fr/$n]:Gn?[yi/Gn,bi/Gn]:[NaN,NaN];return yi=bi=Gn=or=fr=$n=wi=xi=Wn=0,t}};function fn(t,n){yi+=t,bi+=n,++Gn}function ja(){mt.point=O0}function O0(t,n){mt.point=H0,fn(At=t,Et=n)}function H0(t,n){var e=t-At,r=n-Et,i=sn(e*e+r*r);or+=i*(At+t)/2,fr+=i*(Et+n)/2,$n+=i,fn(At=t,Et=n)}function to(){mt.point=fn}function B0(){mt.point=V0}function q0(){Ff(If,zf)}function V0(t,n){mt.point=Ff,fn(If=At=t,zf=Et=n)}function Ff(t,n){var e=t-At,r=n-Et,i=sn(e*e+r*r);or+=i*(At+t)/2,fr+=i*(Et+n)/2,$n+=i,i=Et*t-At*n,wi+=i*(At+t),xi+=i*(Et+n),Wn+=i*3,fn(At=t,Et=n)}function Of(t){this._context=t}Of.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,dt);break}}},result:vt};var $i=new rn,Gr,Hf,Bf,Kn,Zn,oe={point:vt,lineStart:function(){oe.point=X0},lineEnd:function(){Gr&&qf(Hf,Bf),oe.point=vt},polygonStart:function(){Gr=!0},polygonEnd:function(){Gr=null},result:function(){var t=+$i;return $i=new rn,t}};function X0(t,n){oe.point=qf,Hf=Kn=t,Bf=Zn=n}function qf(t,n){Kn-=t,Zn-=n,$i.add(sn(Kn*Kn+Zn*Zn)),Kn=t,Zn=n}let no,ur,eo,ro;class io{constructor(n){this._append=n==null?Vf:Y0(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==eo||this._append!==ur){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,eo=r,ur=this._append,ro=this._,this._=i}this._+=ro;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Vf(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Y0(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Vf;if(n!==no){const e=10**n;no=n,ur=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*e)/e+i[a]}}return ur}function U0(t,n){let e=3,r=4.5,i,a;function o(f){return f&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),xn(f,i(a))),a.result()}return o.area=function(f){return xn(f,i(Ht)),Ht.result()},o.measure=function(f){return xn(f,i(oe)),oe.result()},o.bounds=function(f){return xn(f,i(ar)),ar.result()},o.centroid=function(f){return xn(f,i(mt)),mt.result()},o.projection=function(f){return arguments.length?(i=f==null?(t=null,gi):(t=f).stream,o):t},o.context=function(f){return arguments.length?(a=f==null?(n=null,new io(e)):new Of(n=f),typeof r!="function"&&a.pointRadius(r),o):n},o.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(a.pointRadius(+f),+f),o):r},o.digits=function(f){if(!arguments.length)return e;if(f==null)e=null;else{const l=Math.floor(f);if(!(l>=0))throw new RangeError(`invalid digits: ${f}`);e=l}return n===null&&(a=new io(e)),o},o.projection(t).digits(e).context(n)}function Ui(t){return function(n){var e=new Mi;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Mi(){}Mi.prototype={constructor:Mi,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Gi(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),xn(e,t.stream(ar)),n(ar.result()),r!=null&&t.clipExtent(r),t}function Xf(t,n,e){return Gi(t,function(r){var i=n[1][0]-n[0][0],a=n[1][1]-n[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),f=+n[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+n[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([f,l])},e)}function G0(t,n,e){return Xf(t,[[0,0],n],e)}function W0(t,n,e){return Gi(t,function(r){var i=+n,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,f=-a*r[0][1];t.scale(150*a).translate([o,f])},e)}function K0(t,n,e){return Gi(t,function(r){var i=+n,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],f=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,f])},e)}var ao=16,Z0=Z(30*Q);function oo(t,n){return+n?Q0(t,n):J0(t)}function J0(t){return Ui({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function Q0(t,n){function e(r,i,a,o,f,l,u,s,c,h,d,p,b,g){var w=u-r,_=s-i,y=w*w+_*_;if(y>4*n&&b--){var $=o+h,v=f+d,A=l+p,x=sn($*$+v*v+A*A),m=ie(A/=x),S=W(W(A)-1)<Y||W(a-c)<Y?(a+c)/2:re(v,$),C=t(S,m),M=C[0],D=C[1],E=M-r,R=D-i,N=_*E-w*R;(N*N/y>n||W((w*E+_*R)/y-.5)>.3||o*h+f*d+l*p<Z0)&&(e(r,i,a,o,f,l,M,D,S,$/=x,v/=x,A,b,g),g.point(M,D),e(M,D,S,$,v,A,u,s,c,h,d,p,b,g))}}return function(r){var i,a,o,f,l,u,s,c,h,d,p,b,g={point:w,lineStart:_,lineEnd:$,polygonStart:function(){r.polygonStart(),g.lineStart=v},polygonEnd:function(){r.polygonEnd(),g.lineStart=_}};function w(m,S){m=t(m,S),r.point(m[0],m[1])}function _(){c=NaN,g.point=y,r.lineStart()}function y(m,S){var C=Rn([m,S]),M=t(m,S);e(c,h,s,d,p,b,c=M[0],h=M[1],s=m,d=C[0],p=C[1],b=C[2],ao,r),r.point(c,h)}function $(){g.point=w,r.lineEnd()}function v(){_(),g.point=A,g.lineEnd=x}function A(m,S){y(i=m,S),a=c,o=h,f=d,l=p,u=b,g.point=y}function x(){e(c,h,s,d,p,b,a,o,i,f,l,u,ao,r),g.lineEnd=$,$()}return g}}var j0=Ui({point:function(t,n){this.stream.point(t*Q,n*Q)}});function td(t){return Ui({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function nd(t,n,e,r,i){function a(o,f){return o*=r,f*=i,[n+t*o,e-t*f]}return a.invert=function(o,f){return[(o-n)/t*r,(e-f)/t*i]},a}function fo(t,n,e,r,i,a){if(!a)return nd(t,n,e,r,i);var o=Z(a),f=J(a),l=o*t,u=f*t,s=o/t,c=f/t,h=(f*e-o*n)/t,d=(f*n+o*e)/t;function p(b,g){return b*=r,g*=i,[l*b-u*g+n,e-u*b-l*g]}return p.invert=function(b,g){return[r*(s*b-c*g+h),i*(d-c*b-s*g)]},p}function ed(t){return rd(function(){return t})()}function rd(t){var n,e=150,r=480,i=250,a=0,o=0,f=0,l=0,u=0,s,c=0,h=1,d=1,p=null,b=Qa,g=null,w,_,y,$=gi,v=.5,A,x,m,S,C;function M(N){return m(N[0]*Q,N[1]*Q)}function D(N){return N=m.invert(N[0],N[1]),N&&[N[0]*ct,N[1]*ct]}M.stream=function(N){return S&&C===N?S:S=j0(td(s)(b(A($(C=N)))))},M.preclip=function(N){return arguments.length?(b=N,p=void 0,R()):b},M.postclip=function(N){return arguments.length?($=N,g=w=_=y=null,R()):$},M.clipAngle=function(N){return arguments.length?(b=+N?R0(p=N*Q):(p=null,Qa),R()):p*ct},M.clipExtent=function(N){return arguments.length?($=N==null?(g=w=_=y=null,gi):D0(g=+N[0][0],w=+N[0][1],_=+N[1][0],y=+N[1][1]),R()):g==null?null:[[g,w],[_,y]]},M.scale=function(N){return arguments.length?(e=+N,E()):e},M.translate=function(N){return arguments.length?(r=+N[0],i=+N[1],E()):[r,i]},M.center=function(N){return arguments.length?(a=N[0]%360*Q,o=N[1]%360*Q,E()):[a*ct,o*ct]},M.rotate=function(N){return arguments.length?(f=N[0]%360*Q,l=N[1]%360*Q,u=N.length>2?N[2]%360*Q:0,E()):[f*ct,l*ct,u*ct]},M.angle=function(N){return arguments.length?(c=N%360*Q,E()):c*ct},M.reflectX=function(N){return arguments.length?(h=N?-1:1,E()):h<0},M.reflectY=function(N){return arguments.length?(d=N?-1:1,E()):d<0},M.precision=function(N){return arguments.length?(A=oo(x,v=N*N),R()):sn(v)},M.fitExtent=function(N,k){return Xf(M,N,k)},M.fitSize=function(N,k){return G0(M,N,k)},M.fitWidth=function(N,k){return W0(M,N,k)},M.fitHeight=function(N,k){return K0(M,N,k)};function E(){var N=fo(e,0,0,h,d,c).apply(null,n(a,o)),k=fo(e,r-N[0],i-N[1],h,d,c);return s=kf(f,l,u),x=di(n,k),m=di(s,x),A=oo(x,v),R()}function R(){return S=C=null,M}return function(){return n=t.apply(this,arguments),M.invert=n.invert&&D,E()}}function Wi(t,n){return[t,b0(x0((st+n)/2))]}Wi.invert=function(t,n){return[t,2*Ef(y0(n))-st]};function id(){return ad(Wi).scale(961/dt)}function ad(t){var n=ed(t),e=n.center,r=n.scale,i=n.translate,a=n.clipExtent,o=null,f,l,u;n.scale=function(c){return arguments.length?(r(c),s()):r()},n.translate=function(c){return arguments.length?(i(c),s()):i()},n.center=function(c){return arguments.length?(e(c),s()):e()},n.clipExtent=function(c){return arguments.length?(c==null?o=f=l=u=null:(o=+c[0][0],f=+c[0][1],l=+c[1][0],u=+c[1][1]),s()):o==null?null:[[o,f],[l,u]]};function s(){var c=X*r(),h=n(M0(n.rotate()).invert([0,0]));return a(o==null?[[h[0]-c,h[1]-c],[h[0]+c,h[1]+c]]:t===Wi?[[Math.max(h[0]-c,o),f],[Math.min(h[0]+c,l),u]]:[[o,Math.max(h[1]-c,f)],[l,Math.min(h[1]+c,u)]])}return s()}function od(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function fd(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}function ud(t){return function(){return t}}function ld(t){return+t}var uo=[0,1];function Gt(t){return t}function Ni(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:ud(isNaN(n)?NaN:.5)}function sd(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function cd(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=Ni(i,r),a=e(o,a)):(r=Ni(r,i),a=e(a,o)),function(f){return a(r(f))}}function hd(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=Ni(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(f){var l=Uo(t,f,1,r)-1;return a[l](i[l](f))}}function dd(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function pd(){var t=uo,n=uo,e=he,r,i,a,o=Gt,f,l,u;function s(){var h=Math.min(t.length,n.length);return o!==Gt&&(o=sd(t[0],t[h-1])),f=h>2?hd:cd,l=u=null,c}function c(h){return h==null||isNaN(h=+h)?a:(l||(l=f(t.map(r),n,e)))(r(o(h)))}return c.invert=function(h){return o(i((u||(u=f(n,t.map(r),bt)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,ld),s()):t.slice()},c.range=function(h){return arguments.length?(n=Array.from(h),s()):n.slice()},c.rangeRound=function(h){return n=Array.from(h),e=pf,s()},c.clamp=function(h){return arguments.length?(o=h?!0:Gt,s()):o!==Gt},c.interpolate=function(h){return arguments.length?(e=h,s()):e},c.unknown=function(h){return arguments.length?(a=h,c):a},function(h,d){return r=h,i=d,s()}}function gd(){return pd()(Gt,Gt)}function md(t,n,e,r){var i=ju(t,n,e),a;switch(r=tr(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(a=m0(i,o))&&(r.precision=a),Af(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=v0(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=g0(i))&&(r.precision=a-(r.type==="%")*2);break}}return Sf(r)}function Yf(t){var n=t.domain;return t.ticks=function(e){var r=n();return Go(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return md(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,a=r.length-1,o=r[i],f=r[a],l,u,s=10;for(f<o&&(u=o,o=f,f=u,u=i,i=a,a=u);s-- >0;){if(u=En(o,f,e),u===l)return r[i]=o,r[a]=f,n(r);if(u>0)o=Math.floor(o/u)*u,f=Math.ceil(f/u)*u;else if(u<0)o=Math.ceil(o*u)/u,f=Math.floor(f*u)/u;else break;l=u}return t},t}function Si(){var t=gd();return t.copy=function(){return dd(t,Si())},od.apply(t,arguments),Yf(t)}function vd(){var t=0,n=1,e,r,i,a,o=Gt,f=!1,l;function u(c){return c==null||isNaN(c=+c)?l:o(i===0?.5:(c=(a(c)-e)*i,f?Math.max(0,Math.min(1,c)):c))}u.domain=function(c){return arguments.length?([t,n]=c,e=a(t=+t),r=a(n=+n),i=e===r?0:1/(r-e),u):[t,n]},u.clamp=function(c){return arguments.length?(f=!!c,u):f},u.interpolator=function(c){return arguments.length?(o=c,u):o};function s(c){return function(h){var d,p;return arguments.length?([d,p]=h,o=c(d,p),u):[o(0),o(1)]}}return u.range=s(he),u.rangeRound=s(pf),u.unknown=function(c){return arguments.length?(l=c,u):l},function(c){return a=c,e=c(t),r=c(n),i=e===r?0:1/(r-e),u}}function _d(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Uf(){var t=Yf(vd()(Gt));return t.copy=function(){return _d(t,Uf())},fd.apply(t,arguments)}function yd(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const bd=t=>mc(t[t.length-1]);var wd=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(yd);const xd=bd(wd);function Jn(t,n,e){this.k=t,this.x=n,this.y=e}Jn.prototype={constructor:Jn,scale:function(t){return t===1?this:new Jn(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Jn(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Jn.prototype;var Ai="http://www.w3.org/1999/xhtml";const lo={svg:"http://www.w3.org/2000/svg",xhtml:Ai,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gf(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),lo.hasOwnProperty(n)?{space:lo[n],local:t}:t}function $d(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Ai&&n.documentElement.namespaceURI===Ai?n.createElement(t):n.createElementNS(e,t)}}function Md(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Wf(t){var n=Gf(t);return(n.local?Md:$d)(n)}var Nd=0;function so(){this._="@"+(++Nd).toString(36)}so.prototype={constructor:so,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Kf=function(t){return function(){return this.matches(t)}};if(typeof document<"u"){var qn=document.documentElement;if(!qn.matches){var Sd=qn.webkitMatchesSelector||qn.msMatchesSelector||qn.mozMatchesSelector||qn.oMatchesSelector;Kf=function(t){return function(){return Sd.call(this,t)}}}}const Ad=Kf;var Zf={};if(typeof document<"u"){var Ed=document.documentElement;"onmouseenter"in Ed||(Zf={mouseenter:"mouseover",mouseleave:"mouseout"})}function kd(t,n,e){return t=Jf(t,n,e),function(r){var i=r.relatedTarget;(!i||i!==this&&!(i.compareDocumentPosition(this)&8))&&t.call(this,r)}}function Jf(t,n,e){return function(r){try{t.call(this,this.__data__,n,e)}finally{}}}function Cd(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function Td(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,a;e<i;++e)a=n[e],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.capture):n[++r]=a;++r?n.length=r:delete this.__on}}}function Rd(t,n,e){var r=Zf.hasOwnProperty(t.type)?kd:Jf;return function(i,a,o){var f=this.__on,l,u=r(n,a,o);if(f){for(var s=0,c=f.length;s<c;++s)if((l=f[s]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=u,l.capture=e),l.value=n;return}}this.addEventListener(t.type,u,e),l={type:t.type,name:t.name,value:n,listener:u,capture:e},f?f.push(l):this.__on=[l]}}function Pd(t,n,e){var r=Cd(t+""),i,a=r.length,o;if(arguments.length<2){var f=this.node().__on;if(f){for(var l=0,u=f.length,s;l<u;++l)for(i=0,s=f[l];i<a;++i)if((o=r[i]).type===s.type&&o.name===s.name)return s.value}return}for(f=n?Rd:Td,e==null&&(e=!1),i=0;i<a;++i)this.each(f(r[i],n,e));return this}function Dd(){}function Qf(t){return t==null?Dd:function(){return this.querySelector(t)}}function Ld(t){typeof t!="function"&&(t=Qf(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,f=r[i]=new Array(o),l,u,s=0;s<o;++s)(l=a[s])&&(u=t.call(l,l.__data__,s,a))&&("__data__"in l&&(u.__data__=l.__data__),f[s]=u);return new _t(r,this._parents)}function Id(){return[]}function zd(t){return t==null?Id:function(){return this.querySelectorAll(t)}}function Fd(t){typeof t!="function"&&(t=zd(t));for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o=n[a],f=o.length,l,u=0;u<f;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new _t(r,i)}function Od(t){typeof t!="function"&&(t=Ad(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,f=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&f.push(l);return new _t(r,this._parents)}function jf(t){return new Array(t.length)}function Hd(){return new _t(this._enter||this._groups.map(jf),this._parents)}function lr(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}lr.prototype={constructor:lr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Bd(t){return function(){return t}}var co="$";function qd(t,n,e,r,i,a){for(var o=0,f,l=n.length,u=a.length;o<u;++o)(f=n[o])?(f.__data__=a[o],r[o]=f):e[o]=new lr(t,a[o]);for(;o<l;++o)(f=n[o])&&(i[o]=f)}function Vd(t,n,e,r,i,a,o){var f,l,u={},s=n.length,c=a.length,h=new Array(s),d;for(f=0;f<s;++f)(l=n[f])&&(h[f]=d=co+o.call(l,l.__data__,f,n),d in u?i[f]=l:u[d]=l);for(f=0;f<c;++f)d=co+o.call(t,a[f],f,a),(l=u[d])?(r[f]=l,l.__data__=a[f],u[d]=null):e[f]=new lr(t,a[f]);for(f=0;f<s;++f)(l=n[f])&&u[h[f]]===l&&(i[f]=l)}function Xd(t,n){if(!t)return d=new Array(this.size()),u=-1,this.each(function(A){d[++u]=A}),d;var e=n?Vd:qd,r=this._parents,i=this._groups;typeof t!="function"&&(t=Bd(t));for(var a=i.length,o=new Array(a),f=new Array(a),l=new Array(a),u=0;u<a;++u){var s=r[u],c=i[u],h=c.length,d=t.call(s,s&&s.__data__,u,r),p=d.length,b=f[u]=new Array(p),g=o[u]=new Array(p),w=l[u]=new Array(h);e(s,c,b,g,w,d,n);for(var _=0,y=0,$,v;_<p;++_)if($=b[_]){for(_>=y&&(y=_+1);!(v=g[y])&&++y<p;);$._next=v||null}}return o=new _t(o,r),o._enter=f,o._exit=l,o}function Yd(){return new _t(this._exit||this._groups.map(jf),this._parents)}function Ud(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),f=0;f<a;++f)for(var l=n[f],u=e[f],s=l.length,c=o[f]=new Array(s),h,d=0;d<s;++d)(h=l[d]||u[d])&&(c[d]=h);for(;f<r;++f)o[f]=n[f];return new _t(o,this._parents)}function Gd(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&a!==o.nextSibling&&a.parentNode.insertBefore(o,a),a=o);return this}function Wd(t){t||(t=Kd);function n(c,h){return c&&h?t(c.__data__,h.__data__):!c-!h}for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o=e[a],f=o.length,l=i[a]=new Array(f),u,s=0;s<f;++s)(u=o[s])&&(l[s]=u);l.sort(n)}return new _t(i,this._parents).order()}function Kd(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Zd(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Jd(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t}function Qd(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function jd(){var t=0;return this.each(function(){++t}),t}function t1(){return!this.node()}function n1(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],a=0,o=i.length,f;a<o;++a)(f=i[a])&&t.call(f,f.__data__,a,i);return this}function e1(t){return function(){this.removeAttribute(t)}}function r1(t){return function(){this.removeAttributeNS(t.space,t.local)}}function i1(t,n){return function(){this.setAttribute(t,n)}}function a1(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function o1(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function f1(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function u1(t,n){var e=Gf(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?r1:e1:typeof n=="function"?e.local?f1:o1:e.local?a1:i1)(e,n))}function tu(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function l1(t){return function(){this.style.removeProperty(t)}}function s1(t,n,e){return function(){this.style.setProperty(t,n,e)}}function c1(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function h1(t,n,e){var r;return arguments.length>1?this.each((n==null?l1:typeof n=="function"?c1:s1)(t,n,e??"")):tu(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)}function d1(t){return function(){delete this[t]}}function p1(t,n){return function(){this[t]=n}}function g1(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function m1(t,n){return arguments.length>1?this.each((n==null?d1:typeof n=="function"?g1:p1)(t,n)):this.node()[t]}function nu(t){return t.trim().split(/^|\s+/)}function Ki(t){return t.classList||new eu(t)}function eu(t){this._node=t,this._names=nu(t.getAttribute("class")||"")}eu.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ru(t,n){for(var e=Ki(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function iu(t,n){for(var e=Ki(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function v1(t){return function(){ru(this,t)}}function _1(t){return function(){iu(this,t)}}function y1(t,n){return function(){(n.apply(this,arguments)?ru:iu)(this,t)}}function b1(t,n){var e=nu(t+"");if(arguments.length<2){for(var r=Ki(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?y1:n?v1:_1)(e,n))}function w1(){this.textContent=""}function x1(t){return function(){this.textContent=t}}function $1(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function M1(t){return arguments.length?this.each(t==null?w1:(typeof t=="function"?$1:x1)(t)):this.node().textContent}function N1(){this.innerHTML=""}function S1(t){return function(){this.innerHTML=t}}function A1(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function E1(t){return arguments.length?this.each(t==null?N1:(typeof t=="function"?A1:S1)(t)):this.node().innerHTML}function k1(){this.nextSibling&&this.parentNode.appendChild(this)}function C1(){return this.each(k1)}function T1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function R1(){return this.each(T1)}function P1(t){var n=typeof t=="function"?t:Wf(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function D1(){return null}function L1(t,n){var e=typeof t=="function"?t:Wf(t),r=n==null?D1:typeof n=="function"?n:Qf(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function I1(){var t=this.parentNode;t&&t.removeChild(this)}function z1(){return this.each(I1)}function F1(t){return arguments.length?this.property("__data__",t):this.node().__data__}function au(t,n,e){var r=tu(t),i=r.CustomEvent;i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function O1(t,n){return function(){return au(this,t,n)}}function H1(t,n){return function(){return au(this,t,n.apply(this,arguments))}}function B1(t,n){return this.each((typeof n=="function"?H1:O1)(t,n))}var q1=[null];function _t(t,n){this._groups=t,this._parents=n}_t.prototype={constructor:_t,select:Ld,selectAll:Fd,filter:Od,data:Xd,enter:Hd,exit:Yd,merge:Ud,order:Gd,sort:Wd,call:Zd,nodes:Jd,node:Qd,size:jd,empty:t1,each:n1,attr:u1,style:h1,property:m1,classed:b1,text:M1,html:E1,raise:C1,lower:R1,append:P1,insert:L1,remove:z1,datum:F1,on:Pd,dispatch:B1};function V1(t){return typeof t=="string"?new _t([[document.querySelector(t)]],[document.documentElement]):new _t([[t]],q1)}function sr(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Dn(t){return t=sr(Math.abs(t)),t?t[1]:NaN}function X1(t,n){return function(e,r){for(var i=e.length,a=[],o=0,f=t[0],l=0;i>0&&f>0&&(l+f+1>r&&(f=Math.max(1,r-l)),a.push(e.substring(i-=f,i+f)),!((l+=f+1)>r));)f=t[o=(o+1)%t.length];return a.reverse().join(n)}}function Y1(t,n){t=t.toPrecision(n);t:for(var e=t.length,r=1,i=-1,a;r<e;++r)switch(t[r]){case".":i=a=r;break;case"0":i===0&&(i=r),a=r;break;case"e":break t;default:i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(a+1):t}var ou;function U1(t,n){var e=sr(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(ou=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+sr(t,Math.max(0,n+a-1))[0]}function ho(t,n){var e=sr(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const fu={"":Y1,"%":function(t,n){return(t*100).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return ho(t*100,n)},r:ho,s:U1,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};var G1=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function cr(t){return new uu(t)}function uu(t){if(!(n=G1.exec(t)))throw new Error("invalid format: "+t);var n,e=n[1]||" ",r=n[2]||">",i=n[3]||"-",a=n[4]||"",o=!!n[5],f=n[6]&&+n[6],l=!!n[7],u=n[8]&&+n[8].slice(1),s=n[9]||"";s==="n"?(l=!0,s="g"):fu[s]||(s=""),(o||e==="0"&&r==="=")&&(o=!0,e="0",r="="),this.fill=e,this.align=r,this.sign=i,this.symbol=a,this.zero=o,this.width=f,this.comma=l,this.precision=u,this.type=s}uu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+this.type};var po=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function W1(t){return t}function lu(t){var n=t.grouping&&t.thousands?X1(t.grouping,t.thousands):W1,e=t.currency,r=t.decimal;function i(o){o=cr(o);var f=o.fill,l=o.align,u=o.sign,s=o.symbol,c=o.zero,h=o.width,d=o.comma,p=o.precision,b=o.type,g=s==="$"?e[0]:s==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",w=s==="$"?e[1]:/[%p]/.test(b)?"%":"",_=fu[b],y=!b||/[defgprs%]/.test(b);p=p==null?b?6:12:/[gprs]/.test(b)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p));function $(v){var A=g,x=w,m,S,C;if(b==="c")x=_(v)+x,v="";else{v=+v;var M=(v<0||1/v<0)&&(v*=-1,!0);if(v=_(v,p),M){for(m=-1,S=v.length,M=!1;++m<S;)if(C=v.charCodeAt(m),48<C&&C<58||b==="x"&&96<C&&C<103||b==="X"&&64<C&&C<71){M=!0;break}}if(A=(M?u==="("?u:"-":u==="-"||u==="("?"":u)+A,x=x+(b==="s"?po[8+ou/3]:"")+(M&&u==="("?")":""),y){for(m=-1,S=v.length;++m<S;)if(C=v.charCodeAt(m),48>C||C>57){x=(C===46?r+v.slice(m+1):v.slice(m))+x,v=v.slice(0,m);break}}}d&&!c&&(v=n(v,1/0));var D=A.length+v.length+x.length,E=D<h?new Array(h-D+1).join(f):"";switch(d&&c&&(v=n(E+v,E.length?h-x.length:1/0),E=""),l){case"<":return A+v+x+E;case"=":return A+E+v+x;case"^":return E.slice(0,D=E.length>>1)+A+v+x+E.slice(D)}return E+A+v+x}return $.toString=function(){return o+""},$}function a(o,f){var l=i((o=cr(o),o.type="f",o)),u=Math.max(-8,Math.min(8,Math.floor(Dn(f)/3)))*3,s=Math.pow(10,-u),c=po[8+u/3];return function(h){return l(s*h)+c}}return{format:i,formatPrefix:a}}var Ce,Zi,Ji;K1({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function K1(t){return Ce=lu(t),Zi=Ce.format,Ji=Ce.formatPrefix,Ce}function Z1(t){return Math.max(0,-Dn(Math.abs(t)))}function J1(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Dn(n)/3)))*3-Dn(Math.abs(t)))}function Q1(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Dn(n)-Dn(t))+1}var j1={value:function(){}};function su(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e)throw new Error("illegal type: "+r);e[r]=[]}return new Be(e)}function Be(t){this._=t}function tp(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Be.prototype=su.prototype={constructor:Be,on:function(t,n){var e=this._,r=tp(t+"",e),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=np(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<o;)if(i=(t=r[a]).type)e[i]=go(e[i],t.name,n);else if(n==null)for(i in e)e[i]=go(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Be(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};function np(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function go(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=j1,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}function cu(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function ep(t){return t.length===1&&(t=rp(t)),{left:function(n,e,r,i){for(r==null&&(r=0),i==null&&(i=n.length);r<i;){var a=r+i>>>1;t(n[a],e)<0?r=a+1:i=a}return r},right:function(n,e,r,i){for(r==null&&(r=0),i==null&&(i=n.length);r<i;){var a=r+i>>>1;t(n[a],e)>0?i=a:r=a+1}return r}}}function rp(t){return function(n,e){return cu(t(n),e)}}var ip=ep(cu),ap=ip.right;function op(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,a=new Array(i);++r<i;)a[r]=t+r*e;return a}var fp=Math.sqrt(50),up=Math.sqrt(10),lp=Math.sqrt(2);function sp(t,n,e){var r=hr(t,n,e);return op(Math.ceil(t/r)*r,Math.floor(n/r)*r+r/2,r)}function hr(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=fp?i*=10:a>=up?i*=5:a>=lp&&(i*=2),n<t?-i:i}function cp(t,n){for(var e=0,r=t.length,i,a=-1;++a<r;)(i=+t[a])&&(e+=i);return e}var gt="$";function dr(){}dr.prototype=hu.prototype={constructor:dr,has:function(t){return gt+t in this},get:function(t){return this[gt+t]},set:function(t,n){return this[gt+t]=n,this},remove:function(t){var n=gt+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===gt&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===gt&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===gt&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===gt&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===gt&&++t;return t},empty:function(){for(var t in this)if(t[0]===gt)return!1;return!0},each:function(t){for(var n in this)n[0]===gt&&t(this[n],n.slice(1),this)}};function hu(t,n){var e=new dr;if(t instanceof dr)t.each(function(f,l){e.set(l,f)});else if(Array.isArray(t)){var r=-1,i=t.length,a;if(n==null)for(;++r<i;)e.set(r,t[r]);else for(;++r<i;)e.set(n(a=t[r],r,t),a)}else if(t)for(var o in t)e.set(o,t[o]);return e}function mo(){}var Qt=hu.prototype;mo.prototype={constructor:mo,has:Qt.has,add:function(t){return t+="",this[gt+t]=t,this},remove:Qt.remove,clear:Qt.clear,values:Qt.keys,size:Qt.size,empty:Qt.empty,each:Qt.each};var du=Array.prototype,hp=du.map,vo=du.slice;function yr(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Qi(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function In(){}var un=.7,Ln=1/un,Sn="\\s*([+-]?\\d+)\\s*",fe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dp=/^#([0-9a-f]{3,8})$/,pp=new RegExp("^rgb\\("+[Sn,Sn,Sn]+"\\)$"),gp=new RegExp("^rgb\\("+[Rt,Rt,Rt]+"\\)$"),mp=new RegExp("^rgba\\("+[Sn,Sn,Sn,fe]+"\\)$"),vp=new RegExp("^rgba\\("+[Rt,Rt,Rt,fe]+"\\)$"),_p=new RegExp("^hsl\\("+[fe,Rt,Rt]+"\\)$"),yp=new RegExp("^hsla\\("+[fe,Rt,Rt,fe]+"\\)$"),_o={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yr(In,ue,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:yo,formatHex:yo,formatHsl:bp,formatRgb:bo,toString:bo});function yo(){return this.rgb().formatHex()}function bp(){return gu(this).formatHsl()}function bo(){return this.rgb().formatRgb()}function ue(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=dp.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?wo(n):e===3?new ft(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Te(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Te(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=pp.exec(t))?new ft(n[1],n[2],n[3],1):(n=gp.exec(t))?new ft(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=mp.exec(t))?Te(n[1],n[2],n[3],n[4]):(n=vp.exec(t))?Te(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=_p.exec(t))?Mo(n[1],n[2]/100,n[3]/100,1):(n=yp.exec(t))?Mo(n[1],n[2]/100,n[3]/100,n[4]):_o.hasOwnProperty(t)?wo(_o[t]):t==="transparent"?new ft(NaN,NaN,NaN,0):null}function wo(t){return new ft(t>>16&255,t>>8&255,t&255,1)}function Te(t,n,e,r){return r<=0&&(t=n=e=NaN),new ft(t,n,e,r)}function pu(t){return t instanceof In||(t=ue(t)),t?(t=t.rgb(),new ft(t.r,t.g,t.b,t.opacity)):new ft}function Ei(t,n,e,r){return arguments.length===1?pu(t):new ft(t,n,e,r??1)}function ft(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}yr(ft,Ei,Qi(In,{brighter:function(t){return t=t==null?Ln:Math.pow(Ln,t),new ft(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?un:Math.pow(un,t),new ft(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xo,formatHex:xo,formatRgb:$o,toString:$o}));function xo(){return"#"+Wr(this.r)+Wr(this.g)+Wr(this.b)}function $o(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Wr(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Mo(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new kt(t,n,e,r)}function gu(t){if(t instanceof kt)return new kt(t.h,t.s,t.l,t.opacity);if(t instanceof In||(t=ue(t)),!t)return new kt;if(t instanceof kt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,f=a-i,l=(a+i)/2;return f?(n===a?o=(e-r)/f+(e<r)*6:e===a?o=(r-n)/f+2:o=(n-e)/f+4,f/=l<.5?a+i:2-a-i,o*=60):f=l>0&&l<1?0:o,new kt(o,f,l,t.opacity)}function wp(t,n,e,r){return arguments.length===1?gu(t):new kt(t,n,e,r??1)}function kt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}yr(kt,wp,Qi(In,{brighter:function(t){return t=t==null?Ln:Math.pow(Ln,t),new kt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?un:Math.pow(un,t),new kt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new ft(Kr(t>=240?t-240:t+120,i,r),Kr(t,i,r),Kr(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function Kr(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}var xp=Math.PI/180,$p=180/Math.PI,mu=-.14861,ji=1.78277,ta=-.29227,br=-.90649,le=1.97294,No=le*br,So=le*ji,Ao=ji*ta-br*mu;function Mp(t){if(t instanceof nn)return new nn(t.h,t.s,t.l,t.opacity);t instanceof ft||(t=pu(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Ao*r+No*n-So*e)/(Ao+No-So),a=r-i,o=(le*(e-i)-ta*a)/br,f=Math.sqrt(o*o+a*a)/(le*i*(1-i)),l=f?Math.atan2(o,a)*$p-120:NaN;return new nn(l<0?l+360:l,f,i,t.opacity)}function Pt(t,n,e,r){return arguments.length===1?Mp(t):new nn(t,n,e,r??1)}function nn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}yr(nn,Pt,Qi(In,{brighter:function(t){return t=t==null?Ln:Math.pow(Ln,t),new nn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?un:Math.pow(un,t),new nn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*xp,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new ft(255*(n+e*(mu*r+ji*i)),255*(n+e*(ta*r+br*i)),255*(n+e*(le*r)),this.opacity)}}));function wr(t){return function(){return t}}function vu(t,n){return function(e){return t+e*n}}function Np(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Sp(t,n){var e=n-t;return e?vu(t,e>180||e<-180?e-360*Math.round(e/360):e):wr(isNaN(t)?n:t)}function Ap(t){return(t=+t)==1?An:function(n,e){return e-n?Np(n,e,t):wr(isNaN(n)?e:n)}}function An(t,n){var e=n-t;return e?vu(t,e):wr(isNaN(t)?n:t)}const Eo=function t(n){var e=Ap(n);function r(i,a){var o=e((i=Ei(i)).r,(a=Ei(a)).r),f=e(i.g,a.g),l=e(i.b,a.b),u=An(i.opacity,a.opacity);return function(s){return i.r=o(s),i.g=f(s),i.b=l(s),i.opacity=u(s),i+""}}return r.gamma=t,r}(1);function Ep(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(a){for(i=0;i<e;++i)r[i]=t[i]*(1-a)+n[i]*a;return r}}function kp(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Cp(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),a=new Array(e),o;for(o=0;o<r;++o)i[o]=na(t[o],n[o]);for(;o<e;++o)a[o]=n[o];return function(f){for(o=0;o<r;++o)a[o]=i[o](f);return a}}function Tp(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function pr(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Rp(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=na(t[i],n[i]):r[i]=n[i];return function(a){for(i in e)r[i]=e[i](a);return r}}var ki=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zr=new RegExp(ki.source,"g");function Pp(t){return function(){return t}}function Dp(t){return function(n){return t(n)+""}}function Lp(t,n){var e=ki.lastIndex=Zr.lastIndex=0,r,i,a,o=-1,f=[],l=[];for(t=t+"",n=n+"";(r=ki.exec(t))&&(i=Zr.exec(n));)(a=i.index)>e&&(a=n.slice(e,a),f[o]?f[o]+=a:f[++o]=a),(r=r[0])===(i=i[0])?f[o]?f[o]+=i:f[++o]=i:(f[++o]=null,l.push({i:o,x:pr(r,i)})),e=Zr.lastIndex;return e<n.length&&(a=n.slice(e),f[o]?f[o]+=a:f[++o]=a),f.length<2?l[0]?Dp(l[0].x):Pp(n):(n=l.length,function(u){for(var s=0,c;s<n;++s)f[(c=l[s]).i]=c.x(u);return f.join("")})}function na(t,n){var e=typeof n,r;return n==null||e==="boolean"?wr(n):(e==="number"?pr:e==="string"?(r=ue(n))?(n=r,Eo):Lp:n instanceof ue?Eo:n instanceof Date?Tp:kp(n)?Ep:Array.isArray(n)?Cp:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Rp:pr)(t,n)}function Ip(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function _u(t){return function n(e){e=+e;function r(i,a){var o=t((i=Pt(i)).h,(a=Pt(a)).h),f=An(i.s,a.s),l=An(i.l,a.l),u=An(i.opacity,a.opacity);return function(s){return i.h=o(s),i.s=f(s),i.l=l(Math.pow(s,e)),i.opacity=u(s),i+""}}return r.gamma=n,r}(1)}_u(Sp);var ea=_u(An);function zp(t){return function(){return t}}function Fp(t){return+t}var ko=[0,1];function yu(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:zp(n)}function Op(t){return function(n,e){var r=t(n=+n,e=+e);return function(i){return i<=n?0:i>=e?1:r(i)}}}function Hp(t){return function(n,e){var r=t(n=+n,e=+e);return function(i){return i<=0?n:i>=1?e:r(i)}}}function Bp(t,n,e,r){var i=t[0],a=t[1],o=n[0],f=n[1];return a<i?(i=e(a,i),o=r(f,o)):(i=e(i,a),o=r(o,f)),function(l){return o(i(l))}}function qp(t,n,e,r){var i=Math.min(t.length,n.length)-1,a=new Array(i),o=new Array(i),f=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++f<i;)a[f]=e(t[f],t[f+1]),o[f]=r(n[f],n[f+1]);return function(l){var u=ap(t,l,1,i)-1;return o[u](a[u](l))}}function Vp(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Xp(t,n){var e=ko,r=ko,i=na,a=!1,o,f,l;function u(){return o=Math.min(e.length,r.length)>2?qp:Bp,f=l=null,s}function s(c){return(f||(f=o(e,r,a?Op(t):t,i)))(+c)}return s.invert=function(c){return(l||(l=o(r,e,yu,a?Hp(n):n)))(+c)},s.domain=function(c){return arguments.length?(e=hp.call(c,Fp),u()):e.slice()},s.range=function(c){return arguments.length?(r=vo.call(c),u()):r.slice()},s.rangeRound=function(c){return r=vo.call(c),i=Ip,u()},s.clamp=function(c){return arguments.length?(a=!!c,u()):a},s.interpolate=function(c){return arguments.length?(i=c,u()):i},u()}function Yp(t,n,e){var r=t[0],i=t[t.length-1],a=hr(r,i,n??10),o;switch(e=cr(e??",f"),e.type){case"s":{var f=Math.max(Math.abs(r),Math.abs(i));return e.precision==null&&!isNaN(o=J1(a,f))&&(e.precision=o),Ji(e,f)}case"":case"e":case"g":case"p":case"r":{e.precision==null&&!isNaN(o=Q1(a,Math.max(Math.abs(r),Math.abs(i))))&&(e.precision=o-(e.type==="e"));break}case"f":case"%":{e.precision==null&&!isNaN(o=Z1(a))&&(e.precision=o-(e.type==="%")*2);break}}return Zi(e)}function Up(t){var n=t.domain;return t.ticks=function(e){var r=n();return sp(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){return Yp(n(),e,r)},t.nice=function(e){var r=n(),i=r.length-1,a=e??10,o=r[0],f=r[i],l=hr(o,f,a);return l&&(l=hr(Math.floor(o/l)*l,Math.ceil(f/l)*l,a),r[0]=Math.floor(o/l)*l,r[i]=Math.ceil(f/l)*l,n(r)),t},t}function bu(){var t=Xp(yu,pr);return t.copy=function(){return Vp(t,bu())},Up(t)}function Kt(t){return t.match(/.{6}/g).map(function(n){return"#"+n})}Kt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");Kt("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6");Kt("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9");Kt("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");ea(Pt(300,.5,0),Pt(-240,.5,1));ea(Pt(-100,.75,.35),Pt(80,1.5,.8));ea(Pt(260,.75,.35),Pt(80,1.5,.8));Pt();function xr(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}xr(Kt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));xr(Kt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));xr(Kt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));xr(Kt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu=function(n){return n},Co=function(n){for(var e=[],r=0,i=n.length;r<i;r++)e[r]=n[i-r-1];return e},To=function(n,e){n.each(function(){var r=V1(this),i=r.text().split(/\s+/).reverse(),a,o=[],f=1.2;r.attr("y");for(var l=parseFloat(r.attr("dy"))||0,u=r.text(null).append("tspan").attr("x",0).attr("dy",l+"em");a=i.pop();)o.push(a),u.text(o.join(" ")),u.node().getComputedTextLength()>e&&o.length>1&&(o.pop(),u.text(o.join(" ")),o=[a],u=r.append("tspan").attr("x",0).attr("dy",f+l+"em").text(a))})},Wp=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments[1],r=arguments[2],i=arguments[3],a=arguments[4];if((typeof e>"u"?"undefined":Gp(e))==="object"){if(e.length===0)return n;for(var o=e.length;o<n.length;o++)e.push(n[o]);return e}else if(typeof e=="function"){for(var f=[],l=n.length,u=0;u<l;u++)f.push(e({i:u,genLength:l,generatedLabels:n,domain:r,range:i,labelDelimiter:a}));return f}return n},Kp=function(n,e,r){var i=[];if(e.length>1)i=e;else for(var a=n.domain(),o=(a[a.length-1]-a[0])/(e-1),f=0;f<e;f++)i.push(a[0]+f*o);var l=i.map(r);return{data:i,labels:l,feature:function(s){return n(s)}}},Zp=function(n,e,r){var i=n.range().map(function(a){var o=n.invertExtent(a);return e(o[0])+" "+r+" "+e(o[1])});return{data:n.range(),labels:i,feature:wu}},Jp=function(n){return{data:n.domain(),labels:n.domain(),feature:function(r){return n(r)}}},Qp=function(n,e,r){n.call("cellover",r,e)},jp=function(n,e,r){n.call("cellout",r,e)},tg=function(n,e,r){n.call("cellclick",r,e)},St={d3_drawShapes:function(n,e,r,i,a,o){n==="rect"?e.attr("height",r).attr("width",i):n==="circle"?e.attr("r",a):n==="line"?e.attr("x1",0).attr("x2",i).attr("y1",0).attr("y2",0):n==="path"&&e.attr("d",o)},d3_addText:function(n,e,r,i,a){e.append("text").attr("class",i+"label");var o=n.selectAll("g."+i+"cell text."+i+"label").data(r).text(wu);return a&&n.selectAll("g."+i+"cell text."+i+"label").call(To,a),o},d3_calcType:function(n,e,r,i,a,o){var f=n.invertExtent?Zp(n,a,o):n.ticks?Kp(n,r,a):Jp(n),l=n.range&&n.range()||n.domain();return f.labels=Wp(f.labels,i,n.domain(),l,o),e&&(f.labels=Co(f.labels),f.data=Co(f.data)),f},d3_filterCells:function(n,e){var r=n.data.map(function(o,f){return{data:o,label:n.labels[f]}}).filter(e),i=r.map(function(o){return o.data}),a=r.map(function(o){return o.label});return n.data=n.data.filter(function(o){return i.indexOf(o)!==-1}),n.labels=n.labels.filter(function(o){return a.indexOf(o)!==-1}),n},d3_placement:function(n,e,r,i,a,o){e.attr("transform",r),i.attr("transform",a),n==="horizontal"&&i.style("text-anchor",o)},d3_addEvents:function(n,e){n.on("mouseover.legend",function(r){Qp(e,r,this)}).on("mouseout.legend",function(r){jp(e,r,this)}).on("click.legend",function(r){tg(e,r,this)})},d3_title:function(n,e,r,i){if(e!==""){var a=n.selectAll("text."+r+"legendTitle");a.data([e]).enter().append("text").attr("class",r+"legendTitle"),n.selectAll("text."+r+"legendTitle").text(e),i&&n.selectAll("text."+r+"legendTitle").call(To,i);var o=n.select("."+r+"legendCells"),f=n.select("."+r+"legendTitle").nodes().map(function(u){return u.getBBox().height})[0],l=-o.nodes().map(function(u){return u.getBBox().x})[0];o.attr("transform","translate("+l+","+f+")")}},d3_defaultLocale:{format:Zi,formatPrefix:Ji},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};function ng(){var t=bu(),n="rect",e=15,r=15,i=10,a=2,o=[5],f=void 0,l=[],u="",s=!1,c="",h=St.d3_defaultLocale,d=St.d3_defaultFormatSpecifier,p=10,b="middle",g=St.d3_defaultDelimiter,w=void 0,_="vertical",y=!1,$=void 0,v=void 0,A=su("cellover","cellout","cellclick");function x(m){var S=St.d3_calcType(t,y,o,l,h.format(d),g),C=m.selectAll("g").data([t]);C.enter().append("g").attr("class",u+"legendCells"),f&&St.d3_filterCells(S,f);var M=m.select("."+u+"legendCells").selectAll("."+u+"cell").data(S.data),D=M.enter().append("g").attr("class",u+"cell");D.append(n).attr("class",u+"swatch");var E=m.selectAll("g."+u+"cell "+n+"."+u+"swatch").data(S.data);St.d3_addEvents(D,A),M.exit().transition().style("opacity",0).remove(),E.exit().transition().style("opacity",0).remove(),E=E.merge(E),St.d3_drawShapes(n,E,r,e,i,$);var R=St.d3_addText(m,D,S.labels,u,w);M=D.merge(M);var N=R.nodes().map(function(B){return B.getBBox()}),k=E.nodes().map(function(B){return B.getBBox()});s?E.attr("class",function(B){return u+"swatch "+S.feature(B)}):n=="line"?E.style("stroke",S.feature):E.style("fill",S.feature);var L=void 0,q=void 0,I=b=="start"?0:b=="middle"?.5:1;_==="vertical"?function(){var B=N.map(function(H,O){return Math.max(H.height,k[O].height)});L=function(O,U){var et=cp(B.slice(0,U));return"translate(0, "+(et+U*a)+")"},q=function(O,U){return"translate( "+(k[U].width+k[U].x+p)+", "+(k[U].y+k[U].height/2+5)+")"}}():_==="horizontal"&&(L=function(H,O){return"translate("+O*(k[O].width+a)+",0)"},q=function(H,O){return"translate("+(k[O].width*I+k[O].x)+`,
          `+(k[O].height+k[O].y+p+8)+")"}),St.d3_placement(_,M,L,R,q,b),St.d3_title(m,c,u,v),M.transition().style("opacity",1)}return x.scale=function(m){return arguments.length?(t=m,x):t},x.cells=function(m){return arguments.length?((m.length>1||m>=2)&&(o=m),x):o},x.cellFilter=function(m){return arguments.length?(f=m,x):f},x.shape=function(m,S){return arguments.length?((m=="rect"||m=="circle"||m=="line"||m=="path"&&typeof S=="string")&&(n=m,$=S),x):n},x.shapeWidth=function(m){return arguments.length?(e=+m,x):e},x.shapeHeight=function(m){return arguments.length?(r=+m,x):r},x.shapeRadius=function(m){return arguments.length?(i=+m,x):i},x.shapePadding=function(m){return arguments.length?(a=+m,x):a},x.labels=function(m){return arguments.length?(l=m,x):l},x.labelAlign=function(m){return arguments.length?((m=="start"||m=="end"||m=="middle")&&(b=m),x):b},x.locale=function(m){return arguments.length?(h=lu(m),x):h},x.labelFormat=function(m){return arguments.length?(d=cr(m),x):x.locale().format(d)},x.labelOffset=function(m){return arguments.length?(p=+m,x):p},x.labelDelimiter=function(m){return arguments.length?(g=m,x):g},x.labelWrap=function(m){return arguments.length?(w=m,x):w},x.useClass=function(m){return arguments.length?((m===!0||m===!1)&&(s=m),x):s},x.orient=function(m){return arguments.length?(m=m.toLowerCase(),(m=="horizontal"||m=="vertical")&&(_=m),x):_},x.ascending=function(m){return arguments.length?(y=!!m,x):y},x.classPrefix=function(m){return arguments.length?(u=m,x):u},x.title=function(m){return arguments.length?(c=m,x):c},x.titleWidth=function(m){return arguments.length?(v=m,x):v},x.textWrap=function(m){return arguments.length?(textWrap=m,x):textWrap},x.on=function(){var m=A.on.apply(A,arguments);return m===A?x:m},x}function Ro(t,n,e){const r=t.slice();return r[10]=n[e],r}function Po(t,n,e){const r=t.slice();return r[10]=n[e],r}function Do(t){let n,e;return{c(){n=wt("path"),ha(n,"fill",t[3](+t[10].properties.N_trees)),P(n,"d",e=t[4](t[10]))},m(r,i){ln(r,n,i)},p(r,i){i&9&&ha(n,"fill",r[3](+r[10].properties.N_trees)),i&1&&e!==(e=r[4](r[10]))&&P(n,"d",e)},d(r){r&&Wt(n)}}}function Lo(t){let n,e,r,i;function a(){return t[7](t[10])}return{c(){n=wt("path"),P(n,"class","geooverlay svelte-1x9lkm0"),P(n,"d",e=t[4](t[10]))},m(o,f){ln(o,n,f),r||(i=Tu(n,"click",a),r=!0)},p(o,f){t=o,f&2&&e!==(e=t[4](t[10]))&&P(n,"d",e)},d(o){o&&Wt(n),r=!1,i()}}}function eg(t){let n,e,r,i,a,o=Ut(t[0]),f=[];for(let s=0;s<o.length;s+=1)f[s]=Do(Po(t,o,s));let l=Ut(t[1]),u=[];for(let s=0;s<l.length;s+=1)u[s]=Lo(Ro(t,l,s));return{c(){n=V("main"),e=V("div"),r=wt("svg");for(let s=0;s<f.length;s+=1)f[s].c();i=Vo();for(let s=0;s<u.length;s+=1)u[s].c();a=wt("g"),P(a,"transform","translate("+(Io-100)+", 50)"),P(r,"id","map"),P(r,"width",Io),P(r,"height",rg),P(e,"class","container_map svelte-1x9lkm0")},m(s,c){ln(s,n,c),T(n,e),T(e,r);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(r,null);T(r,i);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(r,null);T(r,a),t[8](a)},p(s,[c]){if(c&25){o=Ut(s[0]);let h;for(h=0;h<o.length;h+=1){const d=Po(s,o,h);f[h]?f[h].p(d,c):(f[h]=Do(d),f[h].c(),f[h].m(r,i))}for(;h<f.length;h+=1)f[h].d(1);f.length=o.length}if(c&50){l=Ut(s[1]);let h;for(h=0;h<l.length;h+=1){const d=Ro(s,l,h);u[h]?u[h].p(d,c):(u[h]=Lo(d),u[h].c(),u[h].m(r,a))}for(;h<u.length;h+=1)u[h].d(1);u.length=l.length}},i:en,o:en,d(s){s&&Wt(n),qe(f,s),qe(u,s),t[8](null)}}}let Io=1200,rg=600;function ig(t,n,e){let r,{data:i}=n,{fullData:a}=n,{OnClick:o}=n,f=id().scale(55e3).center([-73.9,40.73061]),l=U0().projection(f),u;function s(d){console.log(d.properties.N_trees),o(d)}const c=d=>s(d);function h(d){Ct[d?"unshift":"push"](()=>{u=d,e(2,u)})}return t.$$set=d=>{"data"in d&&e(0,i=d.data),"fullData"in d&&e(1,a=d.fullData),"OnClick"in d&&e(6,o=d.OnClick)},t.$$.update=()=>{if(t.$$.dirty&1&&e(3,r=Uf(xd).domain([rl(i.map(d=>+d.properties.N_trees)),il(i.map(d=>+d.properties.N_trees)),Wo(i.map(d=>+d.properties.N_trees))])),t.$$.dirty&12){const d=ng().shape("rect").cells(10).scale(r);xt(u).call(d)}},[i,a,u,r,l,s,o,c,h]}let ag=class extends Ii{constructor(n){super(),Li(this,n,ig,eg,Di,{data:0,fullData:1,OnClick:6})}};function zo(t,n,e){const r=t.slice();return r[22]=n[e],r}function Fo(t,n,e){const r=t.slice();return r[22]=n[e],r}function Oo(t){let n,e,r,i,a;return{c(){n=wt("rect"),P(n,"class","backgroundbar svelte-1e7d90n"),P(n,"x",e=t[4](t[22].x0)),P(n,"y",r=t[3](t[22].length)),P(n,"width",i=t[4](t[22].x1)-t[4](t[22].x0)),P(n,"height",a=t[8]-t[3](t[22].length))},m(o,f){ln(o,n,f)},p(o,f){f&48&&e!==(e=o[4](o[22].x0))&&P(n,"x",e),f&40&&r!==(r=o[3](o[22].length))&&P(n,"y",r),f&48&&i!==(i=o[4](o[22].x1)-o[4](o[22].x0))&&P(n,"width",i),f&40&&a!==(a=o[8]-o[3](o[22].length))&&P(n,"height",a)},d(o){o&&Wt(n)}}}function Ho(t){let n,e,r,i,a;return{c(){n=wt("rect"),P(n,"class","bar svelte-1e7d90n"),P(n,"x",e=t[4](t[22].x0)),P(n,"y",r=t[3](t[22].length)),P(n,"width",i=t[4](t[22].x1)-t[4](t[22].x0)),P(n,"height",a=t[8]-t[3](t[22].length))},m(o,f){ln(o,n,f)},p(o,f){f&80&&e!==(e=o[4](o[22].x0))&&P(n,"x",e),f&72&&r!==(r=o[3](o[22].length))&&P(n,"y",r),f&80&&i!==(i=o[4](o[22].x1)-o[4](o[22].x0))&&P(n,"width",i),f&72&&a!==(a=o[8]-o[3](o[22].length))&&P(n,"height",a)},d(o){o&&Wt(n)}}}function og(t){let n,e,r,i,a,o,f,l=Ut(t[5]),u=[];for(let h=0;h<l.length;h+=1)u[h]=Oo(Fo(t,l,h));let s=Ut(t[6]),c=[];for(let h=0;h<s.length;h+=1)c[h]=Ho(zo(t,s,h));return{c(){n=V("main"),e=wt("svg"),r=wt("g");for(let h=0;h<u.length;h+=1)u[h].c();i=Vo();for(let h=0;h<c.length;h+=1)c[h].c();a=wt("g"),o=wt("g"),f=wt("g"),P(r,"transform","translate("+t[7].left+", "+t[7].top+")"),P(a,"transform","translate("+t[7].left+", "+t[7].top+")"),P(o,"transform","translate("+t[7].left+", "+(t[8]+t[7].top)+")"),P(f,"transform","translate("+t[7].left+", "+t[7].top+")"),P(e,"width",xu),P(e,"height",$u)},m(h,d){ln(h,n,d),T(n,e),T(e,r);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(r,null);T(r,i);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(r,null);T(e,a),t[15](a),T(e,o),t[16](o),T(e,f),t[17](f)},p(h,[d]){if(d&312){l=Ut(h[5]);let p;for(p=0;p<l.length;p+=1){const b=Fo(h,l,p);u[p]?u[p].p(b,d):(u[p]=Oo(b),u[p].c(),u[p].m(r,i))}for(;p<u.length;p+=1)u[p].d(1);u.length=l.length}if(d&344){s=Ut(h[6]);let p;for(p=0;p<s.length;p+=1){const b=zo(h,s,p);c[p]?c[p].p(b,d):(c[p]=Ho(b),c[p].c(),c[p].m(r,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=s.length}},i:en,o:en,d(h){h&&Wt(n),qe(u,h),qe(c,h),t[15](null),t[16](null),t[17](null)}}}let xu=500,$u=240;function fg(t,n,e){let r,i,a,o,f,{data:l}=n,{fullData:u}=n,{variable:s}=n,{filter:c}=n,{update:h}=n,d={top:10,right:30,bottom:30,left:40},p=xu-d.left-d.right,b=$u-d.top-d.bottom,g,w,_;const y=Gh().extent([[0,0],[p,b]]).on("brush",$).on("end",v);function $(S){S&&S.selection&&(e(9,c=[r.invert(S.selection[0]),r.invert(S.selection[1])]),h())}function v(S){S&&!S.selection&&(e(9,c=[]),h())}function A(S){Ct[S?"unshift":"push"](()=>{g=S,e(0,g)})}function x(S){Ct[S?"unshift":"push"](()=>{w=S,e(1,w)})}function m(S){Ct[S?"unshift":"push"](()=>{_=S,e(2,_)})}return t.$$set=S=>{"data"in S&&e(10,l=S.data),"fullData"in S&&e(11,u=S.fullData),"variable"in S&&e(12,s=S.variable),"filter"in S&&e(9,c=S.filter),"update"in S&&e(13,h=S.update)},t.$$.update=()=>{t.$$.dirty&6144&&e(4,r=Si().range([0,p]).domain(Le(u.map(S=>S.properties[s])))),t.$$.dirty&4112&&e(14,i=el().value(S=>S.properties[s]).domain(r.domain()).thresholds(r.ticks(30))),t.$$.dirty&18432&&e(5,a=i(u)),t.$$.dirty&17408&&e(6,o=i(l)),t.$$.dirty&32&&e(3,f=Si().range([b,0]).domain([0,Wo(a,S=>S.length)])),t.$$.dirty&31&&(xt(g).call(y),xt(w).call(hl(r)),xt(_).call(dl(f)))},[g,w,_,f,r,a,o,d,b,c,l,u,s,h,i,A,x,m]}class Re extends Ii{constructor(n){super(),Li(this,n,fg,og,Di,{data:10,fullData:11,variable:12,filter:9,update:13})}}function ug(t){let n,e,r,i,a,o,f,l,u,s,c,h,d,p,b,g,w=t[6][0]+"",_,y,$,v=t[6][1]+"",A,x,m,S=t[6][2]+"",C,M,D,E=t[6][3]+"",R,N,k,L=Math.round(t[6][4]*100)/100+"",q,I,B,H=Math.round(t[6][5]*100)/100+"",O,U,et,rt=Math.round(t[6][6]*100)/100+"",qt,tt,pt,Lt,It,zn,Zt,it,cn,de,Vt,z,K,Nt,nt,$r,ra,hn,dn,Mr,ia,pe,Xt,Nr,aa,pn,Sr,oa,ge,Yt,Ar,yt;u=new ag({props:{data:t[0],fullData:t[1],OnClick:t[8]}});function Mu(F){t[9](F)}let fa={data:t[0],fullData:t[1],variable:Ci,update:t[7]};t[2]!==void 0&&(fa.filter=t[2]),it=new Re({props:fa}),Ct.push(()=>we(it,"filter",Mu));function Nu(F){t[10](F)}let ua={data:t[0],fullData:t[1],variable:Ti,update:t[7]};t[3]!==void 0&&(ua.filter=t[3]),nt=new Re({props:ua}),Ct.push(()=>we(nt,"filter",Nu));function Su(F){t[11](F)}let la={data:t[0],fullData:t[1],variable:Ri,update:t[7]};t[4]!==void 0&&(la.filter=t[4]),Xt=new Re({props:la}),Ct.push(()=>we(Xt,"filter",Su));function Au(F){t[12](F)}let sa={data:t[0],fullData:t[1],variable:Pi,update:t[7]};return t[5]!==void 0&&(sa.filter=t[5]),Yt=new Re({props:sa}),Ct.push(()=>we(Yt,"filter",Au)),{c(){n=V("main"),e=V("div"),r=V("div"),r.innerHTML="<h1>2015 New York City Tree Census</h1>",i=j(),a=V("div"),a.innerHTML="<h5>The choropleth map shows the number of trees in each tract.</h5> <h5>Click a tract on the map to view the detailed data of that tract</h5> <h5>Brush over the histograms to filter the data selected. Crossfiltering is implemented.</h5>",o=j(),f=V("div"),l=V("div"),On(u.$$.fragment),s=j(),c=V("div"),h=V("table"),d=V("tr"),d.innerHTML='<th class="svelte-c3sh28">Boro_Census_Tract</th> <th class="svelte-c3sh28">NTAName</th> <th class="svelte-c3sh28">Number of Trees</th> <th class="svelte-c3sh28">Number of Dead Trees</th> <th class="svelte-c3sh28">Average Diameter of Trees</th> <th class="svelte-c3sh28">Ratio with Good Health</th> <th class="svelte-c3sh28">Ratio without Problems</th>',p=j(),b=V("tr"),g=V("td"),_=Ot(w),y=j(),$=V("td"),A=Ot(v),x=j(),m=V("td"),C=Ot(S),M=j(),D=V("td"),R=Ot(E),N=j(),k=V("td"),q=Ot(L),I=j(),B=V("td"),O=Ot(H),U=j(),et=V("td"),qt=Ot(rt),tt=j(),pt=V("div"),Lt=V("div"),It=V("h5"),It.textContent="The Average Diameter of Trees",zn=j(),Zt=V("div"),On(it.$$.fragment),de=j(),Vt=V("div"),z=V("h5"),z.textContent="The Ratio of Trees with Good Health Status",K=j(),Nt=V("div"),On(nt.$$.fragment),ra=j(),hn=V("div"),dn=V("div"),Mr=V("h5"),Mr.textContent="The number of Dead Trees",ia=j(),pe=V("div"),On(Xt.$$.fragment),aa=j(),pn=V("div"),Sr=V("h5"),Sr.textContent="The Ratio of Trees Without Significant Problems (root,trunk,branch,etc.)",oa=j(),ge=V("div"),On(Yt.$$.fragment),P(r,"class","row"),P(a,"class","row"),P(l,"class","map svelte-c3sh28"),P(f,"class","row"),P(g,"class","svelte-c3sh28"),P($,"class","svelte-c3sh28"),P(m,"class","svelte-c3sh28"),P(D,"class","svelte-c3sh28"),P(k,"class","svelte-c3sh28"),P(B,"class","svelte-c3sh28"),P(et,"class","svelte-c3sh28"),P(h,"class","mb-5 svelte-c3sh28"),P(c,"class","row"),P(Zt,"class","hist svelte-c3sh28"),P(Lt,"class","col-6"),P(Nt,"class","hist svelte-c3sh28"),P(Vt,"class","col-6"),P(pt,"class","row"),P(pe,"class","hist svelte-c3sh28"),P(dn,"class","col-6"),P(ge,"class","hist svelte-c3sh28"),P(pn,"class","col-6"),P(hn,"class","row"),P(e,"class","container")},m(F,G){ln(F,n,G),T(n,e),T(e,r),T(e,i),T(e,a),T(e,o),T(e,f),T(f,l),bn(u,l,null),T(e,s),T(e,c),T(c,h),T(h,d),T(h,p),T(h,b),T(b,g),T(g,_),T(b,y),T(b,$),T($,A),T(b,x),T(b,m),T(m,C),T(b,M),T(b,D),T(D,R),T(b,N),T(b,k),T(k,q),T(b,I),T(b,B),T(B,O),T(b,U),T(b,et),T(et,qt),T(e,tt),T(e,pt),T(pt,Lt),T(Lt,It),T(Lt,zn),T(Lt,Zt),bn(it,Zt,null),T(pt,de),T(pt,Vt),T(Vt,z),T(Vt,K),T(Vt,Nt),bn(nt,Nt,null),T(e,ra),T(e,hn),T(hn,dn),T(dn,Mr),T(dn,ia),T(dn,pe),bn(Xt,pe,null),T(hn,aa),T(hn,pn),T(pn,Sr),T(pn,oa),T(pn,ge),bn(Yt,ge,null),yt=!0},p(F,[G]){const Er={};G&1&&(Er.data=F[0]),G&2&&(Er.fullData=F[1]),u.$set(Er),(!yt||G&64)&&w!==(w=F[6][0]+"")&&Jt(_,w),(!yt||G&64)&&v!==(v=F[6][1]+"")&&Jt(A,v),(!yt||G&64)&&S!==(S=F[6][2]+"")&&Jt(C,S),(!yt||G&64)&&E!==(E=F[6][3]+"")&&Jt(R,E),(!yt||G&64)&&L!==(L=Math.round(F[6][4]*100)/100+"")&&Jt(q,L),(!yt||G&64)&&H!==(H=Math.round(F[6][5]*100)/100+"")&&Jt(O,H),(!yt||G&64)&&rt!==(rt=Math.round(F[6][6]*100)/100+"")&&Jt(qt,rt);const me={};G&1&&(me.data=F[0]),G&2&&(me.fullData=F[1]),!cn&&G&4&&(cn=!0,me.filter=F[2],be(()=>cn=!1)),it.$set(me);const ve={};G&1&&(ve.data=F[0]),G&2&&(ve.fullData=F[1]),!$r&&G&8&&($r=!0,ve.filter=F[3],be(()=>$r=!1)),nt.$set(ve);const _e={};G&1&&(_e.data=F[0]),G&2&&(_e.fullData=F[1]),!Nr&&G&16&&(Nr=!0,_e.filter=F[4],be(()=>Nr=!1)),Xt.$set(_e);const ye={};G&1&&(ye.data=F[0]),G&2&&(ye.fullData=F[1]),!Ar&&G&32&&(Ar=!0,ye.filter=F[5],be(()=>Ar=!1)),Yt.$set(ye)},i(F){yt||(yn(u.$$.fragment,F),yn(it.$$.fragment,F),yn(nt.$$.fragment,F),yn(Xt.$$.fragment,F),yn(Yt.$$.fragment,F),yt=!0)},o(F){Fn(u.$$.fragment,F),Fn(it.$$.fragment,F),Fn(nt.$$.fragment,F),Fn(Xt.$$.fragment,F),Fn(Yt.$$.fragment,F),yt=!1},d(F){F&&Wt(n),wn(u),wn(it),wn(nt),wn(Xt),wn(Yt)}}}let Ci="tree_diameter",Ti="Pct_health",Ri="N_dead",Pi="Pct_noproblems";function lg(t,n,e){let r=[],i=[],a=[],o=[],f=[],l=[],u=[];Du(async function(){let g=i0("2015_Street_Tree_BoroCensus.csv",_=>({..._,boro_ct:_.boro_ct,N_trees:_.N_trees,tree_diameter:+_.tree_diameter,N_dead:+_.N_dead,Pct_health:+_.Pct_health,Pct_noproblems:+_.Pct_noproblems})),w=o0("NYC_census_tract.geojson").then(_=>_.features);await Promise.all([g,w]).then(_=>{let y=_[0],$=_[1];console.log(y.length),console.log($.length);for(let v=0;v<$.length;v++){let A=$[v].properties.BoroCT2020,x=!1,m=0;for(;!x&&y.length>m;)y[m].boro_ct==A?(x=!0,r.push($[v]),e(0,r[r.length-1].properties.N_trees=y[m].N_trees,r),e(0,r[r.length-1].properties.N_dead=y[m].N_dead,r),e(0,r[r.length-1].properties.Pct_health=y[m].Pct_health,r),e(0,r[r.length-1].properties.Pct_noproblems=y[m].Pct_noproblems,r),e(0,r[r.length-1].properties.tree_diameter=y[m].tree_diameter,r)):m++}e(1,i=[...r])}),e(6,u=[r[0].properties.BoroCT2020,r[0].properties.NTAName,r[0].properties.N_trees,r[0].properties.N_dead,r[0].properties.tree_diameter,r[0].properties.Pct_health,r[0].properties.Pct_noproblems])});function s(){e(0,r=[...i]),a.length>0&&e(0,r=r.filter(g=>g.properties[Ci]>=a[0]&&g.properties[Ci]<a[1])),o.length>0&&e(0,r=r.filter(g=>g.properties[Ti]>=o[0]&&g.properties[Ti]<o[1])),f.length>0&&e(0,r=r.filter(g=>g.properties[Ri]>=f[0]&&g.properties[Ri]<f[1])),l.length>0&&e(0,r=r.filter(g=>g.properties[Pi]>=l[0]&&g.properties[Pi]<l[1]))}function c(g){e(6,u=[g.properties.BoroCT2020,g.properties.NTAName,g.properties.N_trees,g.properties.N_dead,g.properties.tree_diameter,g.properties.Pct_health,g.properties.Pct_noproblems]),console.log()}function h(g){a=g,e(2,a)}function d(g){o=g,e(3,o)}function p(g){f=g,e(4,f)}function b(g){l=g,e(5,l)}return[r,i,a,o,f,l,u,s,c,h,d,p,b]}class sg extends Ii{constructor(n){super(),Li(this,n,lg,ug,Di,{})}}new sg({target:document.getElementById("app")});
